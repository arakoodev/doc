<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-API documentation/Examples">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Example API for edgechains | Arakoo.ai</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.arakoo.com/img/code.png"><meta data-rh="true" name="twitter:image" content="https://www.arakoo.com/img/code.png"><meta data-rh="true" property="og:url" content="https://www.arakoo.com/doc/API documentation/Examples"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Example API for edgechains | Arakoo.ai"><meta data-rh="true" name="description" content="These example APIs can be added to the EdgeChainApplication.java file in the source code to enhance the functionalities of EdgeChains. Below is a list of example APIs that you can use as reference and inspiration for your own implementations:"><meta data-rh="true" property="og:description" content="These example APIs can be added to the EdgeChainApplication.java file in the source code to enhance the functionalities of EdgeChains. Below is a list of example APIs that you can use as reference and inspiration for your own implementations:"><link data-rh="true" rel="icon" href="/img/logo-arako.ico"><link data-rh="true" rel="canonical" href="https://www.arakoo.com/doc/API documentation/Examples"><link data-rh="true" rel="alternate" href="https://www.arakoo.com/doc/API documentation/Examples" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.arakoo.com/doc/API documentation/Examples" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Arakoo.ai RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Arakoo.ai Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-RFCYPQD4J6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RFCYPQD4J6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RFCYPQD4J6",{anonymize_ip:!0})</script>



<link rel="alternate" type="application/rss+xml" href="/case-studies/rss.xml" title="Arakoo.ai RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/case-studies/atom.xml" title="Arakoo.ai Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/kb/rss.xml" title="Arakoo.ai RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/kb/atom.xml" title="Arakoo.ai Atom Feed"><link rel="stylesheet" href="/assets/css/styles.125b89d0.css">
<link rel="preload" href="/assets/js/runtime~main.df16cf0a.js" as="script">
<link rel="preload" href="/assets/js/main.079d03f5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="pt-12"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/arakoo-01.png" alt="arakoo Logo" class="themedImage_ToTc themedImage--light_HNdA" height="90"><img src="/img/arakoo-01.png" alt="arakoo Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="90"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/privacy/">Privacy</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/doc/category/getting-started">Doc</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a href="https://discord.gg/wgmvkVEKEn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__icon navbar__discord"></a><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__icon navbar__github"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/category/techniques">Techniques</a><button aria-label="Toggle the collapsible sidebar category &#x27;Techniques&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/doc/category/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/Core_concepts">Core Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/Config">Configuration and Customisation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/Community_and_Support">Community and Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/Contribute">Contributing to EdgeChains</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc/Endpoints">Endpoint Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/doc/API documentation/Examples">API documentation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/doc/API documentation/Examples">Example API for edgechains</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API documentation</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Example API for edgechains</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Example API for edgechains</h1><p>These example APIs can be added to the <code>EdgeChainApplication.java</code> file in the source code to enhance the functionalities of EdgeChains. Below is a list of example APIs that you can use as reference and inspiration for your own implementations:</p><ul><li><a href="#1-adding-cors-configuration-adding-cors-configuration">1. Adding CORS Configuration</a></li><li><a href="#2-configuring-redis-optional">2. Configuring Redis (Optional)</a></li><li><a href="#3-configuring-supabase-optional">3. Configuring Supabase (Optional)</a></li><li><a href="#4-excluding-api-calls-from-filtering-optional">4. Excluding API Calls from Filtering (Optional)</a></li><li><a href="#5-getting-wikipedia-content">5. Getting Wikipedia Content</a></li><li><a href="#6-creating-historycontext-using-redis-controller">6. Creating HistoryContext (Using Redis) Controller</a></li><li><a href="#7-creating-historycontext-using-postgresql-controller">7. Creating HistoryContext (Using PostgreSQL) Controller</a></li><li><a href="#8-pdf-reader">8. PDF reader</a></li><li><a href="#9-ReactChain-Application">9. ReactChainApplication</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-adding-cors-configuration">1. Adding CORS Configuration<a href="#1-adding-cors-configuration" class="hash-link" aria-label="Direct link to 1. Adding CORS Configuration" title="Direct link to 1. Adding CORS Configuration">​</a></h3><p>To enable Cross-Origin Resource Sharing (CORS) in your EdgeChains application and allow multiple origins, add the following code snippet to the <code>EdgeChainApplication.java</code> file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.context.annotation.Bean;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.context.annotation.Primary;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Bean</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Primary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public CorsEnableOrigins corsEnableOrigins() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    CorsEnableOrigins origins = new CorsEnableOrigins();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    origins.setOrigins(Collections.singletonList(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;http://localhost:4200&quot;, &quot;http://localhost:4201&quot;, &quot;http://localhost:4202&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return origins;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the provided code, we create a bean named corsEnableOrigins which enables CORS for the specified origins. The setOrigins method allows you to define the URLs for which CORS should be enabled. You can include multiple origins by adding them to the list within the method.</p><p>By implementing this configuration in your EdgeChains application, it will now accept requests from the designated origins, permitting interaction with the application from different sources. This is particularly useful when your application&#x27;s frontend is hosted on a different domain or port than the backend, as it avoids CORS-related restrictions and allows for smooth communication between the two.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-configuring-redis-optional">2. Configuring Redis (Optional)<a href="#2-configuring-redis-optional" class="hash-link" aria-label="Direct link to 2. Configuring Redis (Optional)" title="Direct link to 2. Configuring Redis (Optional)">​</a></h2><p>If your EdgeChains application requires Redis integration, you can easily configure it by adding the following code snippet to the <code>EdgeChainApplication.java</code> file:
(if it is not required, simply remove this section from code.)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.context.annotation.Bean;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.context.annotation.Primary;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Bean</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Primary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public RedisEnv redisEnv() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    RedisEnv redisEnv = new RedisEnv();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    redisEnv.setUrl(&quot;&quot;); // Specify the URL of your Redis instance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    redisEnv.setPort(12285); // Set the port number for the Redis instance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    redisEnv.setUsername(&quot;default&quot;); // Set the username for authentication </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    redisEnv.setPassword(&quot;&quot;); // Provide the password for authentication </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    redisEnv.setTtl(3600); // Configuring ttl for HistoryContext;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return redisEnv;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the provided code, you should customize the values accordingly. In the <code>setUrl</code> method, specify the URL of your Redis instance; in the <code>setPort</code> method, provide the port number for the Redis instance; use the <code>setUsername method</code> to set the username for authentication; use the <code>setPassword</code> method to provide the password for authentication; and use the <code>setTtl</code> method to configure the time-to-live for the HistoryContext.</p><p>If you do not have a Redis URL,port etc in hand, refer to the blog section on <a href="https://www.arakoo.ai/blog/redis" target="_blank" rel="noopener noreferrer">How to create an instance in Redis</a> for step-by-step instructions.</p><p>Note that these configuration steps are relevant only if you are using Redis in your EdgeChains application. If you are not using Redis, you may skip this configuration, and the application will continue to function as expected without it. However, if you are leveraging Redis, this configuration will enable seamless integration and utilization of Redis features within your application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-configuring-supabase-optional">3. Configuring Supabase (Optional)<a href="#3-configuring-supabase-optional" class="hash-link" aria-label="Direct link to 3. Configuring Supabase (Optional)" title="Direct link to 3. Configuring Supabase (Optional)">​</a></h2><p>If you intend to use Supabase or PostgreSQL with your EdgeChains application, you can configure it by adding the following code to the file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.context.annotation.Bean;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.context.annotation.Primary;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Bean</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Primary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public SupabaseEnv supabaseEnv() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SupabaseEnv env = new SupabaseEnv();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    env.setUrl(&quot;&quot;); // SupabaseURL</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    env.setAnnonKey(&quot;&quot;); // Supabase AnnonKey</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    env.setJwtSecret(&quot;&quot;); // Supabase JWTSecret</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    env.setDbHost(&quot;&quot;); // jdbc:postgresql://${SUPABASE_DB_URK}/postgres</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    env.setDbUsername(&quot;postgres&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    env.setDbPassword(&quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return env;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The provided code contains several methods that need to be configured accordingly for integrating Supabase with your EdgeChains application:</p><p><em>setUrl</em>: This method should be used to specify the URL of your Supabase backend.
<em>setAnnonKey</em>: Use this method to provide the anonymous key used for authentication with Supabase.
<em>setJwtSecret</em>: Utilize this method to set the JSON Web Token (JWT) secret for secure communication and user authentication with Supabase.
<em>setDbHost</em>: This method requires you to provide the JDBC URL for connecting to the PostgreSQL database in Supabase.
<em>setDbUsername</em>: Use this method to set the username for the PostgreSQL database.
<em>setDbPassword</em>: Finally, this method should be used to provide the password for the PostgreSQL database, which is required for authentication and access.</p><p>If you need guidance on configuring Supabase, refer to the blog section on <a href="https://www.arakoo.ai/blog/Supabase" target="_blank" rel="noopener noreferrer">Getting Started with Supabase</a></p><p>Please note that these steps are only required if you are using Supabase or PostgreSQL in your EdgeChains application. If you are not using them, you can skip this configuration, and the application will function without it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-excluding-api-calls-from-filtering-optional">4. Excluding API Calls from Filtering (Optional)<a href="#4-excluding-api-calls-from-filtering-optional" class="hash-link" aria-label="Direct link to 4. Excluding API Calls from Filtering (Optional)" title="Direct link to 4. Excluding API Calls from Filtering (Optional)">​</a></h2><p>If there are certain API calls in your EdgeChains application that you want to exclude from filtering based on access roles, you have the option to create and configure an ExcludeMappingFilter. To do so, add the following code to the file:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.context.annotation.Bean;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.context.annotation.Primary;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.edgechains.common.security.ExcludeMappingFilter;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.List;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Bean</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Primary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public ExcludeMappingFilter mappingFilter() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ExcludeMappingFilter mappingFilter = new ExcludeMappingFilter();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    mappingFilter.setRequestPost(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        List.of(&quot;/v1/examples/**&quot;, &quot;/v1/signup&quot;, &quot;/v1/login&quot;, &quot;/v1/refreshToken&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    mappingFilter.setRequestGet(List.of(&quot;/v1/examples/**&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    mappingFilter.setRequestDelete(List.of(&quot;/v1/examples/**&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    mappingFilter.setRequestPut(List.of(&quot;/v1/examples/**&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    return mappingFilter;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Customize the <code>mappingFilter</code> according to your specific requirements. In this example, certain API endpoints (<code>/v1/examples/**</code>, <code>/v1/signup</code>, <code>/v1/login</code>, and <code>/v1/refreshToken</code>) are excluded from filtering based on access roles. You can adjust the included API endpoints as needed to suit your application&#x27;s access control needs.</p><p>Please note that these steps are entirely optional, and you can skip this configuration if you do not have the requirement to exclude specific API calls from filtering based on access roles. The ExcludeMappingFilter provides a way to fine-tune access control and ensure that certain endpoints are exempt from role-based filtering, allowing for more flexible and granular control over your application&#x27;s security measures.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-getting-wikipedia-content">5. Getting Wikipedia Content<a href="#5-getting-wikipedia-content" class="hash-link" aria-label="Direct link to 5. Getting Wikipedia Content" title="Direct link to 5. Getting Wikipedia Content">​</a></h2><p>To accomplish the goal of retrieving content from Wikipedia and utilizing it as a prompt for the OpenAiChatCompletion API, the following steps should be followed:</p><p><em>Step 1:</em> Load JSONnet File and Pass Arguments</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">JsonnetLoader loader = new FileJsonnetLoader(&quot;R:\\Github\\wiki.jsonnet&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .put(&quot;keepMaxTokens&quot;, new JsonnetArgs(DataType.BOOLEAN, &quot;true&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .put(&quot;maxTokens&quot;, new JsonnetArgs(DataType.INTEGER, &quot;4096&quot;));</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>Step 2:</em>  Extract Content from Wikipedia using the WikiEndpoint</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">WikiEndpoint wikiEndpoint = new WikiEndpoint();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>Step 3:</em> Communicate with OpenAiServices using the OpenAiEndpoint</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">OpenAiEndpoint openAiEndpoint = new OpenAiEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    OPENAI_CHAT_COMPLETION_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    OPENAI_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;gpt-3.5-turbo&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;user&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    0.7,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stream,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new ExponentialDelay(3, 5, 2, TimeUnit.SECONDS)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em>Step 4:</em>  Create the Prompt for OpenAiChatCompletion API</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">String query = arkRequest.getQueryParam(&quot;query&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">boolean stream = arkRequest.getBooleanHeader(&quot;stream&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">return new EdgeChain&lt;&gt;(wikiEndpoint.getPageContent(query))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .transform(wiki -&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        loader</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            .put(&quot;keepContext&quot;, new JsonnetArgs(DataType.BOOLEAN, &quot;true&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            .put(&quot;context&quot;, new JsonnetArgs(DataType.STRING, wiki.getText()))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            .loadOrReload();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        return loader.get(&quot;prompt&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .transform(openAiEndpoint::getChatCompletion)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    .getArkResponse();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By following these steps, you will be able to fetch content from Wikipedia, create the prompt using the JSONnet file, and then pass it to the OpenAiChatCompletion API. This will enable you to utilize the powerful capabilities of OpenAI&#x27;s language models for processing the Wikipedia content and generating the desired output.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-creating-historycontext-using-redis-controller">6. Creating HistoryContext (Using Redis) Controller<a href="#6-creating-historycontext-using-redis-controller" class="hash-link" aria-label="Direct link to 6. Creating HistoryContext (Using Redis) Controller" title="Direct link to 6. Creating HistoryContext (Using Redis) Controller">​</a></h2><p>The HistoryContext functionality allows your application to maintain conversation history or context for users during their interactions. This feature can be implemented using Redis as the storage mechanism to ensure efficient and reliable data management.</p><p><strong>step 1: Creating a HistoryContext Entry</strong></p><p>To create a new HistoryContext entry, you can use the following API endpoint:</p><p><strong>Endpoint:</strong> <code>POST /examples/redis/historycontext</code></p><p><strong>Usage:</strong></p><ol><li>Make a POST request to the above endpoint.</li><li>A new HistoryContext entry will be created and assigned a unique identifier (UUID).</li><li>The generated UUID is returned in the response, which you can use for further interactions within the same context.</li></ol><p><strong>step 2: Updating a HistoryContext Entry</strong></p><p>To update an existing HistoryContext entry, use the following API endpoint:</p><p><strong>Endpoint:</strong> <code>PUT /examples/redis/historycontext</code></p><p><strong>Usage:</strong></p><ol><li>Make a PUT request to the above endpoint with the <code>id</code> of the context to be updated and the new <code>response</code> to be added.</li><li>The specified HistoryContext entry will be updated with the new response, ensuring continuity in the conversation.</li></ol><p><strong>step 3: Retrieving a HistoryContext Entry</strong></p><p>To retrieve a specific HistoryContext entry from Redis, use the following API endpoint:</p><p><strong>Endpoint:</strong> <code>GET /examples/redis/historycontext</code></p><p><strong>Usage:</strong></p><ol><li>Make a GET request to the above endpoint with the <code>id</code> of the desired HistoryContext.</li><li>The corresponding HistoryContext entry will be fetched from Redis and returned in the response.</li></ol><p><strong>step 4: Deleting a HistoryContext Entry</strong></p><p>To remove a HistoryContext entry from Redis, use the following API endpoint:</p><p><strong>Endpoint:</strong> <code>DELETE /examples/redis/historycontext</code></p><p><strong>Usage:</strong></p><ol><li>Make a DELETE request to the above endpoint with the id of the HistoryContext to be deleted.</li><li>The specified HistoryContext entry will be removed from Redis, ensuring clean-up and data management.</li></ol><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click here for sample code</summary><div><div class="collapsibleContent_i85q"><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/*** Creating HistoryContext (Using Redis) Controller ****/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @PostMapping(&quot;/examples/redis/historycontext&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public ArkResponse createRedisHistoryContext(ArkRequest arkRequest) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      RedisHistoryContextEndpoint endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new RedisHistoryContextEndpoint(new FixedDelay(2, 3, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return new ArkResponse(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          endpoint.create(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              UUID.randomUUID()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .toString())); // Here randomId is generated, you can provide your own ids....</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @PutMapping(&quot;/examples/redis/historycontext&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public ArkResponse putRedisHistoryContext(ArkRequest arkRequest) throws IOException {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      JSONObject json = arkRequest.getBody();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      RedisHistoryContextEndpoint endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new RedisHistoryContextEndpoint(new FixedDelay(2, 3, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return new ArkResponse(endpoint.put(json.getString(&quot;id&quot;), json.getString(&quot;response&quot;)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @GetMapping(&quot;/examples/redis/historycontext&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public ArkResponse getRedisHistoryContext(ArkRequest arkRequest) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String id = arkRequest.getQueryParam(&quot;id&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      RedisHistoryContextEndpoint endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new RedisHistoryContextEndpoint(new FixedDelay(2, 3, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return new ArkResponse(endpoint.get(id));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @DeleteMapping(&quot;/examples/redis/historycontext&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public void deleteRedisHistoryContext(ArkRequest arkRequest) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String id = arkRequest.getQueryParam(&quot;id&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      RedisHistoryContextEndpoint endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new RedisHistoryContextEndpoint(new FixedDelay(2, 3, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      endpoint.delete(id);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-creating-historycontext-using-postgresql-controller">7. Creating HistoryContext (Using PostgreSQL) Controller<a href="#7-creating-historycontext-using-postgresql-controller" class="hash-link" aria-label="Direct link to 7. Creating HistoryContext (Using PostgreSQL) Controller" title="Direct link to 7. Creating HistoryContext (Using PostgreSQL) Controller">​</a></h2><p>The HistoryContext feature allows your application to maintain conversation history or context for users during their interactions. This functionality can be achieved using PostgreSQL as the storage mechanism, providing a robust and scalable solution for data management.</p><p><strong>step 1: Creating a HistoryContext Entry</strong></p><p>To create a new HistoryContext entry, you can use the following API endpoint:</p><p><strong>Endpoint:</strong> <code>POST /examples/postgresql/historycontext</code></p><p><strong>Usage:</strong></p><ol><li>Make a POST request to the above endpoint.</li><li>A new HistoryContext entry will be created and assigned a unique identifier (UUID).</li><li>The generated UUID is returned in the response, which you can use for further interactions within the same context.</li></ol><p><strong>step 2: Updating a HistoryContext Entry</strong></p><p>To update an existing HistoryContext entry, use the following API endpoint:</p><p><strong>Endpoint:</strong> <code>PUT /examples/postgresql/historycontext</code></p><p><strong>Usage:</strong></p><ol><li>Make a PUT request to the above endpoint with the <code>id</code> of the context to be updated and the new <code>response</code> to be added.</li><li>The specified HistoryContext entry will be updated with the new response, ensuring continuity in the conversation.</li></ol><p><strong>step 3: Retrieving a HistoryContext Entry</strong></p><p>To retrieve a specific HistoryContext entry from PostgreSQL, use the following API endpoint:</p><p><strong>Endpoint:</strong> <code>GET /examples/postgresql/historycontext</code></p><p><strong>Usage:</strong></p><ol><li>Make a GET request to the above endpoint with the <code>id</code> of the desired HistoryContext.</li><li>The corresponding HistoryContext entry will be fetched from PostgreSQL and returned in the response.</li></ol><p><strong>step 4: Deleting a HistoryContext Entry</strong></p><p>To remove a HistoryContext entry from PostgreSQL, use the following API endpoint:</p><p><strong>Endpoint:</strong> <code>DELETE /examples/postgresql/historycontext</code></p><p><strong>Usage:</strong></p><ol><li>Make a DELETE request to the above endpoint with the id of the HistoryContext to be deleted.</li><li>The specified HistoryContext entry will be removed from PostgreSQL, ensuring clean-up and data management.</li></ol><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click here for sample code</summary><div><div class="collapsibleContent_i85q"><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">/*** Creating HistoryContext (Using PostgreSQL) Controller ****/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @PostMapping(&quot;/examples/postgresql/historycontext&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public ArkResponse createPostgreSQLHistoryContext(ArkRequest arkRequest) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      PostgreSQLHistoryContextEndpoint endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new PostgreSQLHistoryContextEndpoint(new FixedDelay(2, 3, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return new ArkResponse(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          endpoint.create(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              UUID.randomUUID()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .toString())); // Here randomId is generated, you can provide your own ids....</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @PutMapping(&quot;/examples/postgresql/historycontext&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public ArkResponse putPostgreSQLHistoryContext(ArkRequest arkRequest) throws IOException {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      JSONObject json = arkRequest.getBody();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      PostgreSQLHistoryContextEndpoint endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new PostgreSQLHistoryContextEndpoint(new FixedDelay(2, 3, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return new ArkResponse(endpoint.put(json.getString(&quot;id&quot;), json.getString(&quot;response&quot;)));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @GetMapping(&quot;/examples/postgresql/historycontext&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public ArkResponse getPostgreSQLHistoryContext(ArkRequest arkRequest) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String id = arkRequest.getQueryParam(&quot;id&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      PostgreSQLHistoryContextEndpoint endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new PostgreSQLHistoryContextEndpoint(new FixedDelay(2, 3, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return new ArkResponse(endpoint.get(id));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @DeleteMapping(&quot;/examples/postgresql/historycontext&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public void deletePostgreSQLHistoryContext(ArkRequest arkRequest) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String id = arkRequest.getQueryParam(&quot;id&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      PostgreSQLHistoryContextEndpoint endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new PostgreSQLHistoryContextEndpoint(new FixedDelay(2, 3, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      endpoint.delete(id);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-pdf-reader">8. PDF reader<a href="#8-pdf-reader" class="hash-link" aria-label="Direct link to 8. PDF reader" title="Direct link to 8. PDF reader">​</a></h2><p><strong>Prerequisites</strong>
Before proceeding with the integration, ensure you have the following:</p><ul><li>Access to Pinecone service and API key</li><li>Access to OpenAI services (Embeddings and Chat Completion) and API key</li><li>The pdfReader component is expected to be autowired, providing PDF processing functionalities.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="namespace-in-vectordb">Namespace in VectorDB<a href="#namespace-in-vectordb" class="hash-link" aria-label="Direct link to Namespace in VectorDB" title="Direct link to Namespace in VectorDB">​</a></h3><p>VectorDb allows you to partition the vectors in an index into namespaces. Queries and other operations are then limited to one namespace, so different requests can search different subsets of your index. A namespace acts as a label or category for the indexed data, allowing you to organize and segregate data based on different criteria. If a namespace is null or empty, in Pinecone it will be prefixed as an empty string (&quot;&quot;) and in Redis, it will be prefixed as &quot;knowledge.&quot;</p><p>For example, you might want to define namespaces for indexing books by finance, law, medicine, etc. This feature can be used in various use-cases, such as when a user uploads a book, a unique namespace can be generated and associated with it. Subsequently, queries or conversations related to that book can be restricted to that specific namespace.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pdfreader-dependency-injection">PdfReader Dependency Injection<a href="#pdfreader-dependency-injection" class="hash-link" aria-label="Direct link to PdfReader Dependency Injection" title="Direct link to PdfReader Dependency Injection">​</a></h3><p>The PdfReader dependency is used to read and process PDF files for further indexing. Make sure the dependency is available and correctly set up to avoid any issues while processing PDF files.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Autowired</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private PdfReader pdfReader;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pinecone-upsert-endpoint">Pinecone Upsert Endpoint<a href="#pinecone-upsert-endpoint" class="hash-link" aria-label="Direct link to Pinecone Upsert Endpoint" title="Direct link to Pinecone Upsert Endpoint">​</a></h3><p>To upsert data (documents) into Pinecone, you can follow the steps below:</p><ul><li>Make a POST request to the <code>/examples/pinecone/openai/upsert</code> endpoint with the necessary parameters.</li><li>The <code>namespace</code> parameter allows you to define a namespace for indexing specific categories of data. If not provided, it will use an empty string as the namespace.</li><li>The <code>file</code> parameter should contain the data you want to upsert (e.g., a PDF file).</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click here for sample code</summary><div><div class="collapsibleContent_i85q"><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">@PostMapping(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &quot;/examples/pinecone/openai/upsert&quot;) // /v1/examples/openai/upsert?namespace=machine-learning</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public void upsertPinecone(ArkRequest arkRequest) throws IOException {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String namespace = arkRequest.getQueryParam(&quot;namespace&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      InputStream file = arkRequest.getMultiPart(&quot;file&quot;).getInputStream();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      PineconeEndpoint pineconeEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new PineconeEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              PINECONE_UPSERT_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              PINECONE_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              namespace,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              new ExponentialDelay(3, 3, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      OpenAiEndpoint embeddingEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new OpenAiEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              OPENAI_EMBEDDINGS_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              OPENAI_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;text-embedding-ada-002&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              new ExponentialDelay(3, 3, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String[] arr = pdfReader.readByChunkSize(file, 512);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      Retrieval retrieval = new PineconeRetrieval(pineconeEndpoint, embeddingEndpoint);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      IntStream.range(0, arr.length).parallel().forEach(i -&gt; retrieval.upsert(arr[i]));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p>In the current version, the entire file is loaded into memory, later on it will be loaded in buffers.</p><p>Two Implementations will be present for Read by Sentence:</p><p>a) readBySentence(LangType, Your File):
The EdgeChains SDK provides predefined support to chunk the PDF by sentences. For example, say for five languages (English, French, German, Italian, Dutch, etc.). This method is suitable when you are using Redis. I</p><p>b) readBySentence(Custom OpenNLP Trained Model, Your File):
Alternatively, you can use a custom OpenNLP trained model to chunk the PDF file into sentences. This approach gives you more flexibility to work with other languages or specialized models.</p><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pinecone-query-endpoint">Pinecone Query Endpoint<a href="#pinecone-query-endpoint" class="hash-link" aria-label="Direct link to Pinecone Query Endpoint" title="Direct link to Pinecone Query Endpoint">​</a></h3><p>To query data from Pinecone, you can use the following steps:</p><ul><li>Make a POST request to the /examples/pinecone/openai/query endpoint with the necessary parameters.</li><li>The namespace parameter allows you to specify the namespace from which you want to query data. If not provided, it will use an empty string as the namespace.</li><li>The query parameter should contain the input for which you want to find similar results.</li><li>The topK parameter specifies the number of top results to retrieve.</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click here for sample code</summary><div><div class="collapsibleContent_i85q"><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">@PostMapping(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        value = &quot;/examples/pinecone/openai/query&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        produces = {MediaType.APPLICATION_JSON_VALUE})</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public ArkResponse queryPinecone(ArkRequest arkRequest) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String namespace = arkRequest.getQueryParam(&quot;namespace&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String query = arkRequest.getBody().getString(&quot;query&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      int topK = arkRequest.getIntQueryParam(&quot;topK&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      PineconeEndpoint pineconeEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new PineconeEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              PINECONE_QUERY_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              PINECONE_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              namespace,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              new ExponentialDelay(3, 3, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      OpenAiEndpoint embeddingEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new OpenAiEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              OPENAI_EMBEDDINGS_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              OPENAI_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;text-embedding-ada-002&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              new FixedDelay(3, 5, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      OpenAiEndpoint chatEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new OpenAiEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              OPENAI_CHAT_COMPLETION_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              OPENAI_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;gpt-3.5-turbo&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              &quot;user&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              0.7,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              new ExponentialDelay(3, 5, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      JsonnetLoader loader =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new FileJsonnetLoader(&quot;R:\\Github\\pinecone-query.jsonnet&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .put(&quot;keepMaxTokens&quot;, new JsonnetArgs(DataType.BOOLEAN, &quot;true&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .put(&quot;maxTokens&quot;, new JsonnetArgs(DataType.INTEGER, &quot;4096&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return new EdgeChain&lt;&gt;(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              embeddingEndpoint.getEmbeddings(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  query)) </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          .transform(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              embeddings -&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  new EdgeChain&lt;&gt;(pineconeEndpoint.query(embeddings, topK))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      .get()) </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          .transform(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              embeddingsQuery -&gt; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                List&lt;ChatCompletionResponse&gt; resp = new ArrayList&lt;&gt;();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                Iterator&lt;WordEmbeddings&gt; iterator = embeddingsQuery.iterator();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                while (iterator.hasNext()) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  String pinecone = iterator.next().getId();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  loader</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      .put(&quot;keepContext&quot;, new JsonnetArgs(DataType.BOOLEAN, &quot;true&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      .put(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                          &quot;context&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                          new JsonnetArgs(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                              DataType.STRING,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                              pinecone)) </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      .loadOrReload();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  resp.add(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                      EdgeChain.fromObservable(chatEndpoint.getChatCompletion(loader.get(&quot;prompt&quot;)))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                          .get()); // You can use both new EdgeChain&lt;&gt;() or</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                return resp;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          .getArkResponse();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-reactchain-application">9. ReactChain Application<a href="#9-reactchain-application" class="hash-link" aria-label="Direct link to 9. ReactChain Application" title="Direct link to 9. ReactChain Application">​</a></h2><p>React prompting as the name infer is a combination of reason and act (REason +ACt = REACT). An interaction takes place between external APIs such as Wikipedia and your chain in order to retrieve information. When you ask a question, your chain performs an action to retrieve the information and provide an answer based on the information retrieved. This is continued in a loop until the LLM returns “Finish” as a response. In our case, the LLM used is OpenAI Chat Completion.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Click here for sample code</summary><div><div class="collapsibleContent_i85q"><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> @RequestMapping(&quot;/v1/examples&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public class ExampleController {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    @GetMapping(value = &quot;/react-chain&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public String reactChain(ArkRequest arkRequest) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String prompt = (String) arkRequest.getBody().get(&quot;prompt&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      StringBuilder context = new StringBuilder();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      JsonnetLoader loader =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          new FileJsonnetLoader(&quot;./react-chain.jsonnet&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .put(&quot;context&quot;, new JsonnetArgs(DataType.STRING, &quot;This is context&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .put(&quot;gptResponse&quot;, new JsonnetArgs(DataType.STRING, &quot;&quot;))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .loadOrReload();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String preset = loader.get(&quot;preset&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      prompt = preset + &quot; \nQuestion: &quot; + prompt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      String gptResponse =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          userChatEndpoint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .chatCompletion(prompt, &quot;React-Chain&quot;, arkRequest)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .blockingFirst()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .getChoices()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .get(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .getMessage()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              .getContent();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      context.append(prompt);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      loader.put(&quot;context&quot;, new JsonnetArgs(DataType.STRING, context.toString()));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      loader.put(&quot;gptResponse&quot;, new JsonnetArgs(DataType.STRING, gptResponse));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      while (!checkIfFinished(gptResponse)) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        loader.loadOrReload();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        prompt = loader.get(&quot;prompt&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        gptResponse =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            userChatEndpoint</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .chatCompletion(prompt, &quot;React-Chain&quot;, arkRequest)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .blockingFirst()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .getChoices()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .get(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .getMessage()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                .getContent();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        context.append(&quot;\n&quot; + prompt);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        loader.put(&quot;context&quot;, new JsonnetArgs(DataType.STRING, context.toString()));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        loader.put(&quot;gptResponse&quot;, new JsonnetArgs(DataType.STRING, gptResponse));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return gptResponse.substring(gptResponse.indexOf(&quot;Finish[&quot;) + 7, gptResponse.indexOf(&quot;]&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    private boolean checkIfFinished(String gptResponse) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return gptResponse.contains(&quot;Finish&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p>The above code takes the initial Input, loads the JsonnetFile to extract the base prompt i.e “preset” then concatenates with the output provided by OpenAI Chat Completion. <code>prompt = preset + &quot; \nQuestion: &quot; + prompt</code> This entire thing happens in a loop where you are extracting the answer, passing it to jsonnet file and then again passing <code>${preset} + $ {output}</code> until Chat Completion returns “Finish”. <code>return gptResponse.contains(&quot;Finish&quot;)</code>.</p><p> You have to be interactive so ask the queries one by one from the user to reach the final answer. Please provide a single Thought and single Action to the user so that the user can search the query of the action and provide you with the observation. When you have found the answer to the original prompt then the final response should be Action: Finish<!-- -->[Answer to the original prompt]<!-- -->.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="for-example-the-chain-would-be-like-this">For example, the chain would be like this:<a href="#for-example-the-chain-would-be-like-this" class="hash-link" aria-label="Direct link to For example, the chain would be like this:" title="Direct link to For example, the chain would be like this:">​</a></h6><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> Question: Which magazine was started first Arthur&#x27;s Magazine or First for Women?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Thought 1: I need to search Arthur&#x27;s Magazine and First for Women, and find which was</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    started first.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Action 1: Search[Arthur&#x27;s Magazine]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Observation 1: Arthur&#x27;s Magazine (1844-1846) was an American literary periodical published</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    in Philadelphia in the 19th century.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Thought 2: Arthur&#x27;s Magazine was started in 1844. I need to search First for Women</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    next.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Action 2: Search[First for Women]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Observation 2: First for Women is a woman’s magazine published by Bauer Media Group in the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    USA.[1] The magazine was started in 1989.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Thought 3: First for Women was started in 1989. 1844 (Arthur&#x27;s Magazine) &lt; 1989 (First</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    for Women), so Arthur&#x27;s Magazine was started first.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Action 3: Finish[Arthur&#x27;s Magazine]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Question: Were Pavel Urysohn and Leonid Levin known for the same type of work?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Thought 1: I need to search Pavel Urysohn and Leonid Levin, find their types of work,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    then find if they are the same.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Action 1: Search[Pavel Urysohn]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Observation 1: Pavel Samuilovich Urysohn (February 3, 1898 - August 17, 1924) was a Soviet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    mathematician who is best known for his contributions in dimension theory.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Thought 2: Pavel Urysohn is a mathematician. I need to search Leonid Levin next and</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    find its type of work.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Action 2: Search[Leonid Levin]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Observation 2: Leonid Anatolievich Levin is a Soviet-American mathematician and computer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    scientist.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Thought 3: Leonid Levin is a mathematician and computer scientist. So Pavel Urysohn</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    and Leonid Levin have the same type of work.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    Action 3: Finish[yes]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/arakoodev/doc/tree/main/doc/API documentation/Examples.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc/Endpoints"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Endpoint Documentation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-adding-cors-configuration" class="table-of-contents__link toc-highlight">1. Adding CORS Configuration</a></li><li><a href="#2-configuring-redis-optional" class="table-of-contents__link toc-highlight">2. Configuring Redis (Optional)</a></li><li><a href="#3-configuring-supabase-optional" class="table-of-contents__link toc-highlight">3. Configuring Supabase (Optional)</a></li><li><a href="#4-excluding-api-calls-from-filtering-optional" class="table-of-contents__link toc-highlight">4. Excluding API Calls from Filtering (Optional)</a></li><li><a href="#5-getting-wikipedia-content" class="table-of-contents__link toc-highlight">5. Getting Wikipedia Content</a></li><li><a href="#6-creating-historycontext-using-redis-controller" class="table-of-contents__link toc-highlight">6. Creating HistoryContext (Using Redis) Controller</a></li><li><a href="#7-creating-historycontext-using-postgresql-controller" class="table-of-contents__link toc-highlight">7. Creating HistoryContext (Using PostgreSQL) Controller</a></li><li><a href="#8-pdf-reader" class="table-of-contents__link toc-highlight">8. PDF reader</a><ul><li><a href="#namespace-in-vectordb" class="table-of-contents__link toc-highlight">Namespace in VectorDB</a></li><li><a href="#pdfreader-dependency-injection" class="table-of-contents__link toc-highlight">PdfReader Dependency Injection</a></li><li><a href="#pinecone-upsert-endpoint" class="table-of-contents__link toc-highlight">Pinecone Upsert Endpoint</a></li><li><a href="#pinecone-query-endpoint" class="table-of-contents__link toc-highlight">Pinecone Query Endpoint</a></li></ul></li><li><a href="#9-reactchain-application" class="table-of-contents__link toc-highlight">9. ReactChain Application</a></li></ul></div></div></div></div></main></div></div><footer class="footer pt-16 font-Quicksand"><div class="container container-fluid flex flex-col"><div class="flex flex-col md:flex-row gap-4 mb-20"><div class="md:w-10/12 font-sans"><h3 class="font-normal">Arakoo</h3><p>Arakoo: Building chain &amp; prompts through declarative orchestration </p></div><div class="row footer__links font-light md:w-1/2"><div class="col footer__col"><div class="footer__title font-semibold text-xl">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item gap-3 flex items-center" href="/doc/API documentation/doc/category/getting-started">Docs</a></li><li class="footer__item"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="footer__link-item gap-3 flex items-center">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item gap-3 flex items-center" href="/doc/API documentation/kb">Knowledgebase</a></li></ul></div><div class="col footer__col"><div class="footer__title font-semibold text-xl">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/arakoo" target="_blank" rel="noopener noreferrer" class="footer__link-item gap-3 flex items-center">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/MtEPK9cnSF" target="_blank" rel="noopener noreferrer" class="footer__link-item gap-3 flex items-center">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/arakooai" target="_blank" rel="noopener noreferrer" class="footer__link-item gap-3 flex items-center">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><hr class="border-b border-solid border-[#8BA5B0] opacity-50 my-4 mb-8"><div class="flex flex-col-reverse md:flex-row justify-between"><p>Copyright © 2023 Arakoo Project</p></div></div></footer></div></div>
<script src="/assets/js/runtime~main.df16cf0a.js"></script>
<script src="/assets/js/main.079d03f5.js"></script>
</body>
</html>