<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Blog | Arakoo.ai</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.arakoo.com/img/code.png"><meta data-rh="true" name="twitter:image" content="https://www.arakoo.com/img/code.png"><meta data-rh="true" property="og:url" content="https://www.arakoo.com/blog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | Arakoo.ai"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/logo-arako.ico"><link data-rh="true" rel="canonical" href="https://www.arakoo.com/blog"><link data-rh="true" rel="alternate" href="https://www.arakoo.com/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.arakoo.com/blog" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Arakoo.ai RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Arakoo.ai Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-RFCYPQD4J6","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RFCYPQD4J6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-RFCYPQD4J6",{anonymize_ip:!0})</script>



<link rel="alternate" type="application/rss+xml" href="/case-studies/rss.xml" title="Arakoo.ai RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/case-studies/atom.xml" title="Arakoo.ai Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/kb/rss.xml" title="Arakoo.ai RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/kb/atom.xml" title="Arakoo.ai Atom Feed"><link rel="stylesheet" href="/assets/css/styles.125b89d0.css">
<link rel="preload" href="/assets/js/runtime~main.ca46e4bc.js" as="script">
<link rel="preload" href="/assets/js/main.fe8f76ce.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/arakoo-01.png" alt="arakoo Logo" class="themedImage_ToTc themedImage--light_HNdA" height="90"><img src="/img/arakoo-01.png" alt="arakoo Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="90"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/privacy/">Privacy</a><a class="navbar__item navbar__link" href="/doc/category/getting-started">Doc</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a><a href="https://discord.gg/wgmvkVEKEn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__icon navbar__discord"></a><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__icon navbar__github"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Article-writer">How to Build a Article Writer Prompt with EdgeChains</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Semantic-Search">How to Build Semantic Search using EdgeChains</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Supabase">Getting Started with Supabase</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/Pinecone">How to create an index in Pinecone</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/redis">How to create a new instance in Redis</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/Article-writer">How to Build a Article Writer Prompt with EdgeChains</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-16T00:00:00.000Z" itemprop="datePublished">September 16, 2023</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/114422989" alt="Aditya Pandey"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Aditya Pandey</span></a></div><small class="avatar__subtitle" itemprop="description">Arakoo Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><strong>Generates an article for you using OpenAI API in Java and EdgeChain.</strong></p><p>Consider you have to write an article about Global Warming:
Normally you have to find information about it in various websites, but this particular model helps you in generating the article by just providing the title of the article.
EdgeChain is a streamlined solution for developing GenAI applications, offering simplicity through a single script file and jsonnet file setup. It emphasizes versioning for prompts, automatic parallelism across various processors, fault tolerance, and scalability, making it a robust choice for chain-of-thought applications with extensive API integration and data sets. While LangChain primarily focuses on a specific set of principles, EdgeChain takes a unique stance, emphasizing declarative prompt and chain orchestration as pivotal components of its architecture. To delve deeper into EdgeChain and explore its capabilities, you can refer to GitHub repository <a href="https://github.com/arakoodev/edgechains#why-do-you-need-declarative-prompt--chain-orchestration-" target="_blank" rel="noopener noreferrer">https://github.com/arakoodev/edgechains#why-do-you-need-declarative-prompt--chain-orchestration-</a>. This platform offers a comprehensive view of EdgeChains&#x27; vision and how it differentiates itself from LangChain.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisites">Pre Requisites<a href="#pre-requisites" class="hash-link" aria-label="Direct link to Pre Requisites" title="Direct link to Pre Requisites">​</a></h2><ol><li>You need to make an account in OpenAI, Postgres so that from there you can retrieve the AUTH key, org id and etc. which are needed for the code.
<img loading="lazy" alt="OpenAI Landing Page" src="/assets/images/OpenAi-caf33559ffca936cf46002ddd9944813.png" width="1762" height="960" class="img_ev3q"></li><li>You need to download the edgechains jar file from this url <a href="https://github.com/arakoodev/EdgeChains/releases" target="_blank" rel="noopener noreferrer">https://github.com/arakoodev/EdgeChains/releases</a>.</li><li>Download the .java and .jsonnet file and put them in the same folder.  </li><li>In the code according to the folder structure you have to write about the path.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-of-the-database">Configuration of the Database<a href="#configuration-of-the-database" class="hash-link" aria-label="Direct link to Configuration of the Database" title="Direct link to Configuration of the Database">​</a></h2><ol><li>Go to the Supabase website (<a href="https://supabase.io" target="_blank" rel="noopener noreferrer">https://supabase.io</a>) and sign up for an account.</li><li>Create a new Project by clicking the “New Project” button.</li><li>Configure your project settings including the project name, region, and the plan.</li><li>Once your project is created, you’ll be directed to the project dashboard.</li><li>Click the “Create Database” button to create a new PostgreSQL database.</li><li>After the database is created, you can access its credentials, including the database URL, API URL and service role key.
<img loading="lazy" alt="Supabase Landing Page" src="/assets/images/Supabase-94eb4189ad361c945a583dba8be62efc.png" width="1736" height="969" class="img_ev3q"></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-of-the-code">Explanation of the Code<a href="#explanation-of-the-code" class="hash-link" aria-label="Direct link to Explanation of the Code" title="Direct link to Explanation of the Code">​</a></h2><ul><li><p>Load the edgechains package.  </p></li><li><p>Import the OPENAI_Chat_Completion API. Here we have to import the static constants from other classes. These classes are  of OpenAI.</p></li><li><p>Import the Spring Framework related classes and annotations.  </p></li><li><p>The code relies on external libraries and dependencies, such as  <code>com.edgechain.lib</code>  and  <code>io.reactivex.rxjava3</code>.These dependencies provide additional functionality and utilities for the code.</p></li><li><p>Classes such as   <code>OpenAiEndpoint</code>,  <code>WikiEndpoint</code>,  <code>ArkRequest</code>, and  <code>CompletionRequest</code> are used to interact with specific endpoints or APIs, such as OpenAI and Wikipedia.</p></li><li><p>RxJava and Retry Logic: The code uses RxJava and includes classes like  <code>ExponentialDelay</code>  and  <code>EdgeChain</code>.These are used for implementing retry logic and handling asynchronous operations.</p></li><li><p>The code includes a constant  <code>OPENAI_CHAT_COMPLETION_API</code>, which represents the endpoint for OpenAI chat completion.</p></li><li><p>A class named  <code>WikiExample</code>  is present that includes several static variables and a  <code>JsonnetLoader</code>  instance. Here&#x27;s an explanation of the that:</p></li><li><p>Static Variables:</p><ul><li><code>OPENAI_AUTH_KEY</code>: This variable represents the OpenAI authentication key. It is a string that should be replaced with your actual OpenAI authentication key.</li><li><code>OPENAI_ORG_ID</code>: This variable represents the OpenAI organization ID. It is a string that should be replaced with your actual OpenAI organization ID.</li><li><code>gpt3Endpoint</code>: This variable is an instance of the  <code>OpenAiEndpoint</code>  class, which is used to communicate with OpenAI services.</li><li><code>gpt3StreamEndpoint</code>: This variable is another instance of the  <code>OpenAiEndpoint</code>  class, which is likely used for streaming communication with OpenAI services.</li><li><code>wikiEndpoint</code>: This variable is an instance of the  <code>WikiEndpoint</code>  class, which is used to communicate with the Wikipedia API.</li></ul></li><li><p>JsonnetLoader</p></li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">-   `loader`: This variable is an instance of the  `JsonnetLoader`  class, which is used to load and process Jsonnet files.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-   `FileJsonnetLoader`: This class is a specific implementation of the  `JsonnetLoader`  interface that loads Jsonnet files from the file system.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-   The  `FileJsonnetLoader`  constructor takes three arguments:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -   The first argument represents the probability (in percentage) of executing the first file (`./wiki1.jsonnet`). In this case, there is a 70% chance of executing  `./wiki1.jsonnet`.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -   The second argument is the path to the first Jsonnet file (`./wiki1.jsonnet`).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    -   The third argument is the path to the second Jsonnet file (`./wiki2.jsonnet`).</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The purpose of this code is to create an instance of  <code>FileJsonnetLoader</code>  that loads Jsonnet files with a certain probability. Depending on the probability, either  <code>./wiki1.jsonnet</code>  or  <code>./wiki2.jsonnet</code>  will be executed.
<img loading="lazy" alt="Main Method Page" src="/assets/images/Main-efb93d4c314f9bedfcd2225cd0aede30.png" width="1920" height="1080" class="img_ev3q"></p><ul><li><p>The main method is the entry point of the application.</p></li><li><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"> Setting Server Port:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>System.setProperty(&quot;server.port&quot;, &quot;8080&quot;)</code>: This line sets the server port to 8080. It configures the application to listen on port 8080 for incoming requests.</li></ul></li><li><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Configuring Properties:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>Properties properties = new Properties()</code>: This line creates a new instance of the  <code>Properties</code>  class, which is used to store key-value pairs of configuration properties.</li><li><code>properties.setProperty(&quot;cors.origins&quot;, &quot;http://localhost:4200&quot;)</code>: This line sets the CORS (Cross-Origin Resource Sharing) origins property to allow requests from  <code>http://localhost:4200</code>. CORS is used to control access to resources from different origins.</li></ul></li><li><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Configuring JPA and Hibernate Properties:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>properties.setProperty(&quot;spring.jpa.show-sql&quot;, &quot;true&quot;)</code>: This line sets the property to show SQL queries executed by JPA (Java Persistence API).</li><li><code>properties.setProperty(&quot;spring.jpa.properties.hibernate.format_sql&quot;, &quot;true&quot;)</code>: This line sets the property to format the SQL queries executed by Hibernate.</li></ul></li><li><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Configuring PostgreSQL Database Properties:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>properties.setProperty(&quot;postgres.db.host&quot;, &quot;jdbc:postgresql://db.rkkbllhnexkzjyxhgexm.supabase.co:5432/postgres&quot;)</code>: This line sets the PostgreSQL database host URL.</li><li><code>properties.setProperty(&quot;postgres.db.username&quot;, &quot;postgres&quot;)</code>: This line sets the username for the PostgreSQL database.</li><li><code>properties.setProperty(&quot;postgres.db.password&quot;, &quot;jtGhg7?JLhUF$fK&quot;)</code>: This line sets the password for the PostgreSQL database.</li></ul></li><li><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Starting the Spring Boot Application:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>new SpringApplicationBuilder(WikiExample.class).properties(properties).run(args)</code>: This line creates a new instance of  <code>SpringApplicationBuilder</code>  with the  <code>WikiExample</code>  class as the main application class. It sets the configured properties and runs the Spring Boot application.</li></ul></li><li><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Initializing Endpoints:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-   `wikiEndpoint = new WikiEndpoint()`: This line creates an instance of the  `WikiEndpoint`  class, which is used to communicate with the Wikipedia API.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-   `gpt3Endpoint = new OpenAiEndpoint(...)`: This line creates an instance of the  `OpenAiEndpoint`  class, which is used to communicate with OpenAI services. It sets various parameters such as the OpenAI chat completion API, authentication key, organization ID, model, temperature, and delay.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-   `gpt3StreamEndpoint = new OpenAiEndpoint(...)`: This line creates another instance of the  `OpenAiEndpoint`  class, which is likely used for streaming communication with OpenAI services. It sets similar parameters as the  `gpt3Endpoint`, but with an additional flag for streaming.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Endpoints" src="/assets/images/Endpoint-ebc740ce5df943d111662586831a797e.png" width="1463" height="476" class="img_ev3q"></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="article-writer-controller">Article Writer Controller<a href="#article-writer-controller" class="hash-link" aria-label="Direct link to Article Writer Controller" title="Direct link to Article Writer Controller">​</a></h2><ul><li>It is a <code>RestController</code>  class named  <code>ArticleController</code>  that handles HTTP GET requests for the  <code>/article</code>  endpoint. Here&#x27;s an explanation of the code within the class:</li></ul><ol><li><p><code>@RestController</code>  Annotation:</p><ul><li>This annotation is used to indicate that the class is a REST controller, which means it handles HTTP requests and returns the response in a RESTful manner.</li></ul></li><li><p><code>@GetMapping(&quot;/article&quot;)</code>  Annotation:</p><ul><li>This annotation is used to map the HTTP GET requests with the  <code>/article</code>  endpoint to the  <code>generateArticle</code>  method.</li></ul></li><li><p><code>generateArticle</code>  Method:</p><ul><li>This method is responsible for generating an article based on the provided query parameter.</li><li>It takes an  <code>ArkRequest</code>  object as a parameter, which is likely a custom request object that contains query parameters.</li><li>The method throws an  <code>Exception</code>  if any error occurs during the generation process.</li></ul></li><li><p>Generating the Prompt:</p><ul><li>The method prepares a prompt for the article generation by concatenating the string &quot;Write an article about &quot; with the value of the  <code>title</code>  query parameter from the  <code>arkRequest</code>  object.</li></ul></li><li><p>Sending a Request to the OpenAI API:</p><ul><li>The method uses the  <code>gpt3Endpoint</code>  instance (which is an instance of the  <code>OpenAiEndpoint</code>  class) to send a request to the OpenAI API for generating the article.</li><li>It uses the  <code>chatCompletion</code>  method of the  <code>gpt3Endpoint</code>  to perform the chat completion.</li><li>The  <code>chatCompletion</code>  method takes the prompt, a chat model name (&quot;React-Chain&quot;), and the  <code>arkRequest</code>  object as parameters.</li><li>The generated article is stored in the  <code>gptre</code>  variable.</li></ul></li><li><p>Returning the Generated Article:</p><ul><li>The method returns the generated article as a response to the HTTP GET request.</li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="postman-testing">Postman Testing<a href="#postman-testing" class="hash-link" aria-label="Direct link to Postman Testing" title="Direct link to Postman Testing">​</a></h2><p>After all this we will be using the postman to test and give the requests for the same in the following manner:
<strong>Title</strong></p><ul><li>Description: Perform a query to retrieve results from Open AI.</li><li>Method: POST </li><li>URL:<a href="http://localhost:8080/pinecone/upsert?namespace=machine-learning" target="_blank" rel="noopener noreferrer">localhost:8080/article?title=Global warming</a> </li><li>Headers: Content-Type: application/json</li><li>Body: raw</li></ul><p><img loading="lazy" alt="Postman Page" src="/assets/images/Postman-8d91b2af815b72e15badb21d66f66aca.png" width="1920" height="1080" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="full-working-code">Full Working Code<a href="#full-working-code" class="hash-link" aria-label="Direct link to Full Working Code" title="Direct link to Full Working Code">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">package com.edgechain;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.endpoint.impl.OpenAiEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.endpoint.impl.WikiEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.jsonnet.JsonnetArgs;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.jsonnet.JsonnetLoader;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.jsonnet.enums.DataType;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.jsonnet.impl.FileJsonnetLoader;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.openai.response.ChatCompletionResponse;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.request.ArkRequest;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.response.ArkResponse;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.rxjava.retry.impl.ExponentialDelay;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.rxjava.transformer.observable.EdgeChain;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.openai.request.CompletionRequest;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import io.reactivex.rxjava3.core.Observable;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.*;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.concurrent.TimeUnit;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.wiki.response.WikiResponse;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.boot.autoconfigure.SpringBootApplication;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.boot.builder.SpringApplicationBuilder;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.web.bind.annotation.GetMapping;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.web.bind.annotation.RestController;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.web.bind.annotation.RequestParam;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import static com.edgechain.lib.constants.EndpointConstants.OPENAI_CHAT_COMPLETION_API;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@SpringBootApplication</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public class WikiExample {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  private static final String OPENAI_AUTH_KEY = &quot;&quot;; // YOUR OPENAI AUTH KEY</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  private static final String OPENAI_ORG_ID = &quot;&quot;; // YOUR OPENAI ORG ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  /* Step 3: Create OpenAiEndpoint to communicate with OpenAiServices; */</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  private static OpenAiEndpoint gpt3Endpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  private static OpenAiEndpoint gpt3StreamEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  private static WikiEndpoint wikiEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // There is a 70% chance that file1 is executed; 30% chance file2 is executed....</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  private final JsonnetLoader loader =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      new FileJsonnetLoader(70, &quot;./wiki1.jsonnet&quot;, &quot;./wiki2.jsonnet&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    System.setProperty(&quot;server.port&quot;, &quot;8080&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Optional, for logging SQL queries (shouldn&#x27;t be used in prod)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Properties properties = new Properties();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Adding Cors ==&gt; You can configure multiple cors w.r.t your urls.;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    properties.setProperty(&quot;cors.origins&quot;, &quot;http://localhost:4200&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    properties.setProperty(&quot;spring.jpa.show-sql&quot;, &quot;true&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    properties.setProperty(&quot;spring.jpa.properties.hibernate.format_sql&quot;, &quot;true&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    properties.setProperty(&quot;postgres.db.host&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    properties.setProperty(&quot;postgres.db.username&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    properties.setProperty(&quot;postgres.db.password&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    new SpringApplicationBuilder(WikiExample.class).properties(properties).run(args);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    wikiEndpoint = new WikiEndpoint();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gpt3Endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        new OpenAiEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            OPENAI_CHAT_COMPLETION_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            OPENAI_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            OPENAI_ORG_ID,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;gpt-3.5-turbo&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;user&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.7,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new ExponentialDelay(3, 5, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    gpt3StreamEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        new OpenAiEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            OPENAI_CHAT_COMPLETION_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            OPENAI_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            OPENAI_ORG_ID,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;gpt-3.5-turbo&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;user&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            0.7,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            true,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            new ExponentialDelay(3, 5, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  @RestController</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public class ArticleController {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      @GetMapping(&quot;/article&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      public String generateArticle(ArkRequest arkRequest) throws Exception {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // Prepare the prompt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          String prompt = &quot;Write an article about &quot; + arkRequest.getQueryParam(&quot;title&quot;) + &quot;.&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // Use the OpenAiService to send a request to the OpenAI API</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // GPT-3 model is used with the provided prompt, max tokens is set to 500 for the article length</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // and temperature is set to 0.7 which is a good balance between randomness and consistency</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // Echo is set to true to include the prompt in the response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          /*CompletionRequest completionRequest = CompletionRequest.builder()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .prompt(prompt)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .model(&quot;gpt-3.5-turbo&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .maxTokens(500)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .temperature(0.7)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  //.echo(true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .build();*/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          String gptre=new EdgeChain&lt;&gt;(gpt3Endpoint.chatCompletion(prompt, &quot;React-Chain&quot;, arkRequest))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .get()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .getChoices()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .get(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .getMessage()</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                  .getContent();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // Send the request</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          //ChatCompletionResponse response = gpt3Endpoint.chat(completionRequest);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          //Observable&lt;ChatCompletionResponse&gt; response = gpt3Endpoint.chatCompletion(completionRequest.getPrompt(), &quot;&quot;, arkRequest);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // Extract the generated text from the response</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          //String generatedArticle = response.getChoices().get(0).getGeneratedText();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          //return response.blockingFirst().getChoices().get(0).toString();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          return gptre;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          // Return the generated article</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//          return generatedArticle;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/article-writer">Article Writer</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/arakoo">Arakoo</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/Semantic-Search">How to Build Semantic Search using EdgeChains</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-16T00:00:00.000Z" itemprop="datePublished">September 16, 2023</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/114422989" alt="Aditya Pandey"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Aditya Pandey</span></a></div><small class="avatar__subtitle" itemprop="description">Arakoo Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Search for your document from a large pack of existing documents in the most effective manner.</p><p>Consider you have a notice of opening of campus of some Institute :<br>
<!-- -->You want to find a particular campus that is similar to some campuses of Kolkata. The best effective way to do so would be by using the Semantic Search.</p><p>Semantic Search is the task of retrieving the documents from a collection of the documents in response to a query asked .It allows you to access the best matches from your document collection within seconds and the best thing is the fact is on the basis of meaning rather than keyword matches .A Semantic Search model has been created using Java.<br>
<a href="https://github.com/arakoodev/edgechains" target="_blank" rel="noopener noreferrer">Edgechains</a> is a streamlined solution for developing GenAI applications, offering simplicity through a single script file and jsonnet file setup. It emphasizes versioning for prompts, automatic parallelism across various processors, fault tolerance, and scalability, making it a robust choice for chain-of-thought applications with extensive API integration and data sets. While Langchain primarily focuses on a specific set of principles, EdgeChains takes a unique stance, emphasizing declarative prompt and chain orchestration as pivotal components of its architecture. To delve deeper into EdgeChains and explore its capabilities, you can refer to our <a href="https://github.com/arakoodev/edgechains#why-do-you-need-declarative-prompt--chain-orchestration-" target="_blank" rel="noopener noreferrer">GitHub repository</a> . </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisites">Pre Requisites<a href="#pre-requisites" class="hash-link" aria-label="Direct link to Pre Requisites" title="Direct link to Pre Requisites">​</a></h3><ol><li>You need to make an account in OPENAI, Pinecone, Postgres so that from there you can retrieve the auth key, org id and etc which are needed for the code.  </li><li>You need to download the edgechains jar file from this url <a href="https://github.com/arakoodev/EdgeChains/releases" target="_blank" rel="noopener noreferrer">https://github.com/arakoodev/EdgeChains/releases</a>.  </li><li>Download the <code>.java</code> and <code>.jsonnet</code> file and put them in the same folder.  </li><li>In the code according to the folder structure you have to write about the path.  </li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-of-the-database">Configuration of the Database:<a href="#configuration-of-the-database" class="hash-link" aria-label="Direct link to Configuration of the Database:" title="Direct link to Configuration of the Database:">​</a></h3><ol><li>Go to the Supabase website (<a href="https://supabase.io" target="_blank" rel="noopener noreferrer">https://supabase.io</a>) and sign up for an account.</li><li>Create a new Project by clicking the “New Project” button.</li><li>Configure your project settings including the project name, region, and the plan.</li><li>Once your project is created, you’ll be directed to the project dashboard.</li><li>Click the “Create Database” button to create a new PostgreSQL database.</li><li>After the database is created, you can access its credentials, including the database URL, API URL and service role key.  </li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-of-the-code">Explanation of the Code<a href="#explanation-of-the-code" class="hash-link" aria-label="Direct link to Explanation of the Code" title="Direct link to Explanation of the Code">​</a></h3><ol><li><p>Load the edgechains package.  </p></li><li><p>Import the OPENAI_Chat_Completion API. Here we have to import the static constants from other classes. These classes are Pinecone, OpenAI, and PDF reading.  </p></li><li><p>Import the Spring Framework related classes and annotations.<br>
<img loading="lazy" alt="Spring Page" src="/assets/images/Spring-39c1ff29580a37c1635ff7039e6f39a3.png" width="1275" height="109" class="img_ev3q"></p></li><li><p>Fill in the details of the <code>auth key</code>, <code>org_id</code> and others of OpenAI and Pinecone.<br>
<img loading="lazy" alt="OpenAI Page" src="/assets/images/OpenAi-caf33559ffca936cf46002ddd9944813.png" width="1762" height="960" class="img_ev3q"></p></li><li><p>Create variables that may be interacting with the OpenAI services used to store authentication keys and API endpoints.  </p></li><li><p>Load the jsonnet file into the variable, and then load the data of that file into the variable.  </p></li><li><p>In the main method, set the system server port to the desired port or by default it is <code>8080</code>. <code>Properties properties = new Properties ();</code> this property is often used in Java to manage the key-value pairs.  </p></li><li><p>Then you have to configure the Hibernate to format the SQL queries for better readability. The lines written below are used to access the database. They enable SQL query logging and formatting in Spring JPA (Java Persistence API).
<img loading="lazy" alt="CORS Page" src="/assets/images/springjpa-22ec39432582f02ac6c13eb270309d0c.png" width="997" height="110" class="img_ev3q"></p></li><li><p>Set the CORS (Cross-Origin Resource Sharing) by specifying the allowed origins.  </p></li><li><p>Then you have to initialize several endpoints and related configurations.  </p></li></ol><ul><li><code>ada002Embedding</code>: This variable is an instance of the <code>OpenAiEndpoint</code> class, which is used to interact with OpenAI for text embeddings.  It is a configuration object that allows your Java code to communicate with OpenAI&#x27;s text embedding service using the <strong><em>&quot;Ada 002&quot;</em></strong> model and handle authentication and retry logic. It&#x27;s a part of integrating OpenAI&#x27;s capabilities into your application for NLP tasks.  </li><li><code>gpt3Endpoint</code>: This variable is another instance of the OpenAiEndpoint class, configured for GPT-3.5 Turbo, a language model for chat completions. It has similar configuration parameters as ada002Embedding but with additional settings for chat completions.  It is a configuration object that facilitates communication with OpenAI&#x27;s <strong><em>&quot;GPT-3.5 Turbo&quot;</em></strong> model for chat-based language generation tasks. </li><li><code>upsertPineconeEndpoint</code>: This variable is an instance of the <code>PineconeEndpoint</code> class, which is used to interact with Pinecone for upserting vectors. It is a configuration object that enables your application to interact with the Pinecone service for adding or updating vectors in a vector index. It plays a crucial role in enabling similarity-based search and retrieval functionality in your application.<br>These variables are essential for communicating with external services such as OpenAI and Pinecone.<br><img loading="lazy" alt="Endpoint Page" src="/assets/images/Endpoints-04db02becb9e99d9ce10a4614496386f.png" width="1111" height="165" class="img_ev3q"></li></ul><ol start="11"><li>After this, define a Spring class which is responsible for handling the HTTP requests and contains various methods for interacting with Pinecone and OpenAI services.</li><li>Inject a <code>PdfReader</code> instance into the controller so that it can be used to read PDF files in the code. </li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="upsert-controller">Upsert Controller<a href="#upsert-controller" class="hash-link" aria-label="Direct link to Upsert Controller" title="Direct link to Upsert Controller">​</a></h3><p>Create a method <code>upsertPinecone</code> that handles HTTP POST requests to the endpoint which takes an <code>ArkRequest</code> object as a parameter which contains data required for the operation. Here <code>pdfReader</code> is used to read the input stream in chunks of 512 bytes and stores the result in a string array. An instance of <code>PineconeRetrieval</code> is created passing the string array created, the <code>ada002Embedding</code> endpoint, the <code>upsertPineconeEndpoint</code> and the <code>arkRequest</code>. The <code>upsert</code> method of the <code>PineconeRetrieval</code> instance is called to upsert the data into Pinecone. The pdf that you uploaded is divided into chunks and then the embedding vector sends that to the embedding endpoint to perform the similarity search on the query sent.
<strong>NOTE</strong>: Upsert is done only once as you can upload as many pdf files one at a time as after upserting the major work you would be doing is querying.<br>
<img loading="lazy" alt="Upsert Page" src="/assets/images/Upsert-b5a090ab79f833f8c87775867ada723e.png" width="1350" height="357" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="query-controller">Query Controller<a href="#query-controller" class="hash-link" aria-label="Direct link to Query Controller" title="Direct link to Query Controller">​</a></h3><p>Define a method ‘query’ to handle HTTP POST requests to the <code>/pinecone/query</code> endpoint. It extracts the various parameters such as <code>namespace</code>, <code>query</code> from the <code>arkRequest</code> object. Here EdgeChain performs a Pinecone query using the <code>queryPineconeEndpoint</code> and retrieves word embeddings. This helps in transforming the results of the query into a list of the objects using a method. It returns the response containing the result of the query. <code>topk</code> is used to divide the pdf into chunks.<br>
<img loading="lazy" alt="Query Page" src="/assets/images/query-89e8f5e6f226c0b6a24b05bccddb7018.png" width="1293" height="386" class="img_ev3q"><br>
<!-- -->Overall this model manages the interaction with Pinecone and OpenAI services including upserting data, querying based on the received HTTP requests.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="postman-testing">Postman Testing<a href="#postman-testing" class="hash-link" aria-label="Direct link to Postman Testing" title="Direct link to Postman Testing">​</a></h3><p>After all this we will be using the postman to test and give the requests for the same in the following manner:  </p><ol><li><strong>Upsert</strong><ul><li>Description: Upload a file to update Open AI data in the Pinecone namespace.</li><li>Method: POST</li><li>URL:<a href="http://localhost:8080/pinecone/upsert?namespace=machine-learning" target="_blank" rel="noopener noreferrer">http://localhost:8080/pinecone/upsert?namespace=machine-learning</a></li><li>Headers: Content-Type: multipart/form-data</li><li>Body:  <ul><li>Mode: formdata  </li><li>Key: file  </li><li>Type: file</li></ul></li></ul></li></ol><p>Also one of the important to consider while uploading the files, upload only in pdf format, json format is not allowed. You can only upload one pdf file at a time.</p><ol start="2"><li><p><strong>Query</strong></p><ul><li>Description: Perform a query to retrieve results from Open AI in the Pinecone namespace.</li><li>Method: POST</li><li>URL:http://localhost:8080/pinecone/query?topK=6&amp;namespace=machine-learning</li><li>Headers: Content-Type: application/json  </li><li>Body:  </li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">* Mode: raw  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Data:  <code>{&quot;query&quot;: &quot;When is the Kolkata campus opening?&quot;  }</code></li></ul></li></ol><p><img loading="lazy" alt="Postman Page" src="/assets/images/postmantesting-2ba2f0533c24e3d7b0dddc5e66debc27.png" width="1244" height="639" class="img_ev3q"></p><p>Semantic Search can change the way searching, ranking or retrieval systems work with their ability to index and store embedding vectors. Here EdgeChain helps in inserting the chunk and calculating the embedding vector. It provides methods which make it very easy for the customer so that they have just to write the business logic and their work happens easily, instead EdgeChain does everything. It ranks according to the score where the score is according to how close their similarity is with the query. And the model will return the answer of the query according to the ranking.</p><p>The Full Working Code of the Model is.  </p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">package com.edgechain;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import  static com.edgechain.lib.constants.EndpointConstants.OPENAI_CHAT_COMPLETION_API;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import  static com.edgechain.lib.constants.EndpointConstants.OPENAI_EMBEDDINGS_API;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.chains.PineconeRetrieval;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.context.domain.HistoryContext;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.embeddings.WordEmbeddings;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.endpoint.impl.OpenAiEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.endpoint.impl.PineconeEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.endpoint.impl.RedisHistoryContextEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.jsonnet.JsonnetArgs;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.jsonnet.JsonnetLoader;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.jsonnet.enums.DataType;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.jsonnet.impl.FileJsonnetLoader;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.openai.response.ChatCompletionResponse;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.reader.impl.PdfReader;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.request.ArkRequest;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.response.ArkResponse;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.rxjava.retry.impl.ExponentialDelay;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.rxjava.retry.impl.FixedDelay;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import com.edgechain.lib.rxjava.transformer.observable.EdgeChain;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.io.IOException;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.io.InputStream;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.*;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import java.util.concurrent.TimeUnit;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.beans.factory.annotation.Autowired;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.boot.autoconfigure.SpringBootApplication;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.boot.builder.SpringApplicationBuilder;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">import org.springframework.web.bind.annotation.*;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@SpringBootApplication</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public  class PineconeExample {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static  final String OPENAI_AUTH_KEY = &quot;&quot;; // YOUR OPENAI AUTH KEY</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static  final String OPENAI_ORG_ID = &quot;&quot;; // YOUR OPENAI ORG ID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static  final String PINECONE_AUTH_KEY = &quot;&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static  final String PINECONE_QUERY_API = &quot;&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static  final String PINECONE_UPSERT_API = &quot;&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static  final String PINECONE_DELETE = &quot;&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static OpenAiEndpoint ada002Embedding;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static OpenAiEndpoint gpt3Endpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static PineconeEndpoint upsertPineconeEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static PineconeEndpoint queryPineconeEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static PineconeEndpoint deletePineconeEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private  static RedisHistoryContextEndpoint contextEndpoint;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private JsonnetLoader queryLoader = new FileJsonnetLoader(&quot;./pinecone-query.jsonnet&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private JsonnetLoader chatLoader = new FileJsonnetLoader(&quot;./pinecone-chat.jsonnet&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public  static  void main(String[] args) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">System.setProperty(&quot;server.port&quot;, &quot;8080&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Properties properties = new Properties();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;spring.jpa.show-sql&quot;, &quot;true&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;spring.jpa.properties.hibernate.format_sql&quot;, &quot;true&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Adding Cors ==&gt; You can configure multiple cors w.r.t your urls.;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;cors.origins&quot;, &quot;http://localhost:4200&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Redis Configuration</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/*properties.setProperty(&quot;redis.url&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;redis.port&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;redis.username&quot;, &quot;default&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;redis.password&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;redis.ttl&quot;, &quot;3600&quot;);*/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// If you want to use PostgreSQL only; then just provide dbHost, dbUsername &amp; dbPassword.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// If you haven&#x27;t specified PostgreSQL, then logs won&#x27;t be stored.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;postgres.db.host&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;postgres.db.username&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">properties.setProperty(&quot;postgres.db.password&quot;, &quot;&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new SpringApplicationBuilder(PineconeExample.class).properties(properties).run(args);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Variables Initialization ==&gt; Endpoints must be intialized in main method...</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ada002Embedding =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new OpenAiEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OPENAI_EMBEDDINGS_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OPENAI_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OPENAI_ORG_ID,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&quot;text-embedding-ada-002&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new ExponentialDelay(3, 3, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpt3Endpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new OpenAiEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OPENAI_CHAT_COMPLETION_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OPENAI_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OPENAI_ORG_ID,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&quot;gpt-3.5-turbo&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&quot;user&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">0.85,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new ExponentialDelay(3, 5, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">upsertPineconeEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new PineconeEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PINECONE_UPSERT_API,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PINECONE_AUTH_KEY,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new ExponentialDelay(3, 3, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">queryPineconeEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new PineconeEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PINECONE_QUERY_API, PINECONE_AUTH_KEY, new ExponentialDelay(3, 3, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">deletePineconeEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new PineconeEndpoint(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PINECONE_DELETE, PINECONE_AUTH_KEY, new FixedDelay(4, 5, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">contextEndpoint =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new RedisHistoryContextEndpoint(new ExponentialDelay(2, 2, 2, TimeUnit.SECONDS));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* By Default, every API is unauthenticated &amp; exposed without any sort of authentication; To</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* authenticate, your custom APIs in Controller you would need @PreAuthorize(hasAuthority(&quot;&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* this will authenticate by JWT having two fields: a) email, b) role:&quot;authenticated,user_create&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* To authenticate, internal APIs related to historyContext &amp; Logging, Delete Redis/Postgres we</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* need to create bean of AuthFilter; you can uncomment the code. Note, you need to define</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* &quot;jwt.secret&quot; property as well to decode accessToken.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// @Bean</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// @Primary</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// public AuthFilter authFilter() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// AuthFilter filter = new AuthFilter();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// // ======== new MethodAuthentication(List.of(APIs), authorities) =============</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// filter.setRequestPost(new MethodAuthentication(List.of(&quot;/v1/postgresql/historycontext&quot;),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// &quot;authenticated&quot;)); // define multiple roles by comma</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// filter.setRequestGet(new MethodAuthentication(List.of(&quot;&quot;), &quot;&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// filter.setRequestDelete(new MethodAuthentication(List.of(&quot;&quot;), &quot;&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// filter.setRequestPatch(new MethodAuthentication(List.of(&quot;&quot;), &quot;&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// filter.setRequestPut(new MethodAuthentication(List.of(&quot;&quot;), &quot;&quot;));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// return filter;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@RestController</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public  class PineconeController {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@Autowired  private PdfReader pdfReader;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/********************** PINECONE WITH OPENAI ****************************/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* Namespace: VectorDb allows you to partition the vectors in an index into namespaces. Queries</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* and other operations are then limited to one namespace, so different requests can search</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* different subsets of your index. If namespace is null or empty, in pinecone it will be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* prefixed as &quot;&quot; empty string &amp; in redis it will be prefixed as &quot;knowledge&quot; For example, you</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* might want to define a namespace for indexing books by finance, law, medicine etc.. Can be</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* used in multiple use-cases.... such as User uploading book, generating unique namespace &amp;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* then querying/chatting with it..</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* @param arkRequest</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* @return</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Namespace is optional (if not provided, it will be using Empty String &quot;&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@PostMapping(&quot;/pinecone/upsert&quot;) // /v1/examples/openai/upsert?namespace=machine-learning</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public  void upsertPinecone(ArkRequest arkRequest) throws IOException {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// String namespace = arkRequest.getQueryParam(&quot;namespace&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">InputStream file = arkRequest.getMultiPart(&quot;file&quot;).getInputStream();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Configure Pinecone</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// upsertPineconeEndpoint.setNamespace(namespace);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">String[] arr = pdfReader.readByChunkSize(file, 512);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Retrieval Class is basically used to generate embeddings &amp; upsert it to VectorDB; If OpenAI</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Embedding Endpoint is not provided; then Doc2Vec constructor is used If the model is not</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">provided, then it will emit an error*/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PineconeRetrieval retrieval =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new PineconeRetrieval(arr, ada002Embedding, upsertPineconeEndpoint, arkRequest);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">retrieval.upsert();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">@PostMapping(value = &quot;/pinecone/query&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">public ArkResponse query(ArkRequest arkRequest) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//String namespace = arkRequest.getQueryParam(&quot;namespace&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">String query = arkRequest.getBody().getString(&quot;query&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int  topK = arkRequest.getIntQueryParam(&quot;topK&quot;);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Configure Pinecone</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// queryPineconeEndpoint.setNamespace(namespace);</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Step 1: Chain ==&gt; Get Embeddings From Input &amp; Then Query To Pinecone</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">EdgeChain&lt;WordEmbeddings&gt; embeddingsChain =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new EdgeChain&lt;&gt;(ada002Embedding.embeddings(query, arkRequest));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Step 2: Chain ==&gt; Query Embeddings from Pinecone</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">EdgeChain&lt;List&lt;WordEmbeddings&gt;&gt; queryChain =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">new EdgeChain&lt;&gt;(queryPineconeEndpoint.query(embeddingsChain.get(), topK));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Chain 3 ===&gt; Our queryFn passes takes list and passes each response with base prompt to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// OpenAI</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">EdgeChain&lt;List&lt;ChatCompletionResponse&gt;&gt; gpt3Chain =</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">queryChain.transform(wordEmbeddings -&gt; queryFn(wordEmbeddings, arkRequest));</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">return  gpt3Chain.getArkResponse();</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/semantic-search">Semantic Search</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/arakoo">Arakoo</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/Supabase">Getting Started with Supabase</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-22T00:00:00.000Z" itemprop="datePublished">July 22, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/114422989" alt="Arakoo"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arakoo</span></a></div><small class="avatar__subtitle" itemprop="description">Arakoo Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p><strong>Supabase</strong> is a powerful, open-source platform that simplifies the creation of secure and high-performance Postgres backends, offering functionalities similar to Firebase, such as authentication and real-time database. When used with <strong>EdgeChains</strong>, Supabase enhances the backend capabilities of applications built with the framework, enabling developers to create advanced and interactive applications powered by large language models.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="supabase-integration-with-edgechains">Supabase Integration with EdgeChains<a href="#supabase-integration-with-edgechains" class="hash-link" aria-label="Direct link to Supabase Integration with EdgeChains" title="Direct link to Supabase Integration with EdgeChains">​</a></h2><p>In the EdgeChains configuration, the following parameters need to be configured for Supabase integration:</p><ul><li><p><strong>SupabaseURL</strong>: The URL of the Supabase backend, which allows EdgeChains to communicate with the Supabase service.</p></li><li><p><strong>Supabase AnnonKey</strong>: The anonymous key used for authentication when interacting with the Supabase backend.</p></li><li><p><strong>Supabase JWTSecret</strong>: The JSON Web Token (JWT) secret for secure communication and user authentication.</p></li><li><p><strong>Supabase DBhost:</strong>: The JDBC URL for connecting to the PostgreSQL database in Supabase. This URL provides the necessary information to establish a connection to the database. <em>ie, jdbc:postgresql://${SUPABASE_DB_URK}/postgres</em></p></li><li><p><strong>DbUsername</strong>: The username for the PostgreSQL database in Supabase. In this example, it is set to <em>postgres</em>.</p></li><li><p><strong>DbPassword</strong>: The password for the PostgreSQL database in Supabase, which is required for authentication and access to the database.</p></li></ul><p>By providing the appropriate values for these configuration parameters, EdgeChains can seamlessly integrate with Supabase, enabling developers to leverage the features and functionalities of Supabase as the backend for their language model-powered applications.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-get-configuration-parameters-for-supabase-integration">How to Get Configuration Parameters for Supabase Integration<a href="#how-to-get-configuration-parameters-for-supabase-integration" class="hash-link" aria-label="Direct link to How to Get Configuration Parameters for Supabase Integration" title="Direct link to How to Get Configuration Parameters for Supabase Integration">​</a></h2><p>To integrate Supabase with EdgeChains and obtain the necessary configuration parameters, follow these step-by-step instructions:</p><p><strong>Step 1: Visit the Supabase website</strong></p><ul><li>If you already have an account, click on the <em>Dashboard</em> button in the top right corner and  and log in using your credentials.</li><li>If you don&#x27;t have an account, click on the <em>Sign in</em> button to either log in or create a new account.</li></ul><p><img loading="lazy" alt="Pinecone landing page" src="/assets/images/landing-7ceededd9b282d201a1ca501c65eb63e.png" width="1837" height="907" class="img_ev3q"></p><ul><li>You can sign up using your email address or opt for a seamless registration process using your GitHub or SSO credentials.</li></ul><p><img loading="lazy" alt="Pinecone landing page" src="/assets/images/signup-e709aef6fbb1bc28b9ec2e90dd2c84e7.png" width="1849" height="907" class="img_ev3q"></p><p><strong>Step 2: Create a New Project</strong></p><ul><li>After logging in or signing up, you will be directed to the dashboard. Click on the <em>New project</em> button to initiate the project creation process.</li></ul><p><img loading="lazy" alt="Pinecone landing page" src="/assets/images/newproj-a59758f2d4b41b390854b1397e6b694e.png" width="1834" height="914" class="img_ev3q"></p><ul><li>Enter the necessary details for the database, including the Name, and set up a strong password for added security.</li><li>Select your preferred region. For the free pricing plan, choose the default option.</li></ul><p><img loading="lazy" alt="Pinecone landing page" src="/assets/images/createDB-431811431be0f2622bcbc86e01da9d75.png" width="1828" height="913" class="img_ev3q"></p><ul><li>Finally, click on the <em>Create new project</em> button to have Supabase set up your new project.</li></ul><p><strong>Step 3: Access Project Settings</strong></p><ul><li>After your project is set up, go to the databases section and then proceed to the settings section of the database.</li></ul><p><img loading="lazy" alt="Pinecone landing page" src="/assets/images/created-1f6941ed035d838b826dee70cbaf3d4d.png" width="1821" height="908" class="img_ev3q"></p><p><img loading="lazy" alt="Pinecone landing page" src="/assets/images/DBsettings-ebd529ce0a335b50c32b33a08e629602.png" width="1829" height="903" class="img_ev3q"></p><ul><li>In this section, you will find the Host, User, and Password, which you need to take note of for using with EdgeChains. These parameters will facilitate the integration of Supabase with EdgeChains and enable seamless communication between the two platforms.</li></ul><p><strong>Step 4: Obtain API Credentials</strong></p><ul><li>In the Supabase dashboard, navigate to the API section, where you can access the required URL and anonymous key.</li></ul><p><img loading="lazy" alt="Pinecone landing page" src="/assets/images/API-32673c13b8b71462da72bbb1c960a8ec.png" width="1820" height="910" class="img_ev3q"></p><ul><li>Continue scrolling down to find the JWT settings, where you can obtain the JWT secret as well.</li></ul><p><img loading="lazy" alt="Pinecone landing page" src="/assets/images/JWT-701e6621991add8c93d71f8b9d069886.png" width="1822" height="911" class="img_ev3q"></p><p>By following these steps and obtaining the necessary configuration parameters, you will successfully integrate Supabase with EdgeChains. These parameters will enable you to leverage Supabase&#x27;s powerful features as the backend for your language model-powered applications, creating secure and high-performance Postgres backends with ease.</p><hr></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/supabase">Supabase</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/arakoo">Arakoo</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/Pinecone">How to create an index in Pinecone</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-14T00:00:00.000Z" itemprop="datePublished">July 14, 2023</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/114422989" alt="Arakoo"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arakoo</span></a></div><small class="avatar__subtitle" itemprop="description">Arakoo Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>Pinecone is a powerful vector database designed for efficient storage and querying of high-dimensional vectors. It provides a scalable and fast solution for applications involving similarity search, recommendation systems, natural language processing, and machine learning. With its simple API, advanced indexing algorithms, and real-time capabilities, Pinecone empowers developers to build high-performance applications that rely on vector-based data, delivering near-instantaneous search results and enabling personalized user experiences.</p><p>Pinecone seamlessly integrates with EdgeChains to enhance the performance of your language models. To get started, you&#x27;ll need to obtain the URL from Pinecone and configure it in your EdgeChains application. Follow the steps below to achieve this.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">​</a></h3><p>Pinecone offers a range of key features and benefits that make it a powerful tool for working with high-dimensional vectors and enabling efficient similarity search. Some of its key features include:</p><p><strong>Scalability:</strong> Pinecone is designed to scale effortlessly, allowing you to handle massive amounts of data and millions to billions of vectors efficiently. It can handle high read and write throughput, making it suitable for demanding real-time applications.</p><p><strong>High-Performance Search:</strong> Pinecone leverages advanced indexing algorithms to provide fast and accurate similarity search. It enables efficient nearest neighbor search, allowing you to find the most similar vectors to a given query vector with sublinear time complexity.</p><p><strong>Real-Time Updates:</strong> With Pinecone, you can easily update your vector database in real-time, enabling you to handle dynamic data that changes frequently. This makes it ideal for applications that require continuous updates and real-time recommendations.</p><p><strong>Flexible Vector Storage:</strong> Pinecone provides flexible options for storing and representing vectors, supporting various data types and formats. It allows you to work with diverse types of data, including numerical embeddings, textual data, images, and more.</p><p><strong>API and Query Language:</strong> Pinecone offers a simple and intuitive API for managing and querying vector data. It provides a powerful query language that allows you to express complex similarity queries and filter results based on specific criteria.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="obtaining-the-pinecone-url">Obtaining the Pinecone URL<a href="#obtaining-the-pinecone-url" class="hash-link" aria-label="Direct link to Obtaining the Pinecone URL" title="Direct link to Obtaining the Pinecone URL">​</a></h3><p>To get started with Pinecone and obtain your Pinecone URL, follow these steps:</p><p><strong>Step 1:</strong> Visit the <a href="https://www.pinecone.io/" target="_blank" rel="noopener noreferrer">Pinecone website</a>.</p><p>If you already have an account, click on the <em>Login</em> button in the top right corner and enter your credentials. Otherwise, click on the <em>Sign Up Free</em> button to create a new account.</p><p><img loading="lazy" alt="Pinecone landing page" src="/assets/images/sign-18f4d68f9fa6b5d0cfbf789ebb708bc3.png" width="1815" height="865" class="img_ev3q"></p><p>You can sign up using your email address alone, or choose to sign up with your Gmail, GitHub, or Microsoft account for a seamless registration process.</p><p><img loading="lazy" alt="Pinecone sign up page" src="/assets/images/signup-01f9f6fc1a5555374177ebece1b12da8.png" width="1804" height="945" class="img_ev3q"></p><p><strong>Step 2:</strong> Once you have logged in or signed up, you will be redirected to the dashboard where it may take a few moments to load your indexes. Please be patient during this process.</p><p><strong>Step 3:</strong>  After the indexes have finished loading, you can create a new index by clicking on the <em>Create Index</em> button.</p><p><img loading="lazy" alt="Create a new index" src="/assets/images/create-42190c468fe58cfeb57eb116e26341e8.png" width="1832" height="937" class="img_ev3q"></p><ul><li>Provide a suitable name for your index. The name should only contain lowercase letters, numbers, and hyphens. It cannot be more than 45 characters long.</li><li>Specify the dimension and metric for your index. The dimension refers to the length of the vectors you will be working with, and the metric determines the similarity measurement used for search operations. Choose the appropriate values for your use case.</li><li>Once you have entered the necessary information, click on the <em>Create Index</em> button to create your index.</li></ul><p><img loading="lazy" alt="Enter details" src="/assets/images/details-3000d0866b181a37303a6d324a03da1e.png" width="1045" height="684" class="img_ev3q"></p><p><strong>Step 4:</strong> After the index is successfully created, you will be provided with your Pinecone URL. This URL represents the endpoint for accessing and interacting with your newly created index.</p><p><img loading="lazy" alt="Pinecone vector DB URL" src="/assets/images/URL-f64485b6ceebdbf8b2cf1e953d58f615.png" width="1499" height="511" class="img_ev3q"></p><p>With your Pinecone URL in hand, you can now integrate Pinecone into your applications and leverage its powerful vector similarity search capabilities.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="integration-with-edgechains">Integration with EdgeChains<a href="#integration-with-edgechains" class="hash-link" aria-label="Direct link to Integration with EdgeChains" title="Direct link to Integration with EdgeChains">​</a></h3><p>To seamlessly integrate Pinecone with EdgeChains, you can leverage the Pinecone URL obtained in the previous step and configure it in your EdgeChains application. This configuration enables your language models in EdgeChains to harness the powerful vector similarity search capabilities provided by Pinecone.</p><p>To achieve this integration, you will need to provide the following data in the <code>Starter class</code> of your <code>EdgeChainApplication.java</code> file:</p><ul><li><p><strong>Query Endpoint:</strong> This endpoint allows you to send queries to Pinecone for similarity search. The URL format is ${PINECONE_URL}/query.</p></li><li><p><strong>Upsert Endpoint:</strong> Use this endpoint to insert or update vectors in your Pinecone index. The URL format is ${PINECONE_URL}/vectors/upsert.</p></li><li><p><strong>Delete Endpoint:</strong> This endpoint enables you to remove vectors from your Pinecone index. The URL format is ${PINECONE_URL}/vectors/delete.</p></li></ul><p>For example, if your Pinecone URL is <code>https://pinecone-sample-ccc3dd8.svc.asia-southeast-gcp-free.pinecone.io</code>, you would configure the following variables in the Starter class of your EdgeChainApplication.java file:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// YOUR PINECONE API KEY</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private final String PINECONE_AUTH_KEY </span><span class="token operator">=</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://pinecone-sample-ccc3dd8.svc.asia-southeast-gcp-free.pinecone.io&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// YOUR PINECONE QUERY API</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private final String PINECONE_QUERY_API </span><span class="token operator">=</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://pinecone-sample-ccc3dd8.svc.asia-southeast-gcp-free.pinecone.io/query&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// YOUR PINECONE UPSERT API</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private final String PINECONE_UPSERT_API </span><span class="token operator">=</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://pinecone-sample-ccc3dd8.svc.asia-southeast-gcp-free.pinecone.io/upsert&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// YOUR PINECONE DELETE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">private final String PINECONE_DELETE </span><span class="token operator">=</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://pinecone-sample-ccc3dd8.svc.asia-southeast-gcp-free.pinecone.io/delete&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-resources">Additional Resources<a href="#additional-resources" class="hash-link" aria-label="Direct link to Additional Resources" title="Direct link to Additional Resources">​</a></h3><p>For more information on Pinecone, tutorials, and community resources, you can refer to the following links:</p><ul><li><a href="https://docs.pinecone.io/" target="_blank" rel="noopener noreferrer">Pinecone Documentation</a></li><li><a href="https://www.pinecone.io/community/" target="_blank" rel="noopener noreferrer">Pinecone Community Forum</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/pinecone">Pinecone</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/arakoo">Arakoo</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/redis">How to create a new instance in Redis</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-14T00:00:00.000Z" itemprop="datePublished">July 14, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/114422989" alt="Arakoo"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arakoo</span></a></div><small class="avatar__subtitle" itemprop="description">Arakoo Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="i-introduction">I. Introduction<a href="#i-introduction" class="hash-link" aria-label="Direct link to I. Introduction" title="Direct link to I. Introduction">​</a></h2><p>Redis is an open-source, in-memory data structure store that can be used as a database, cache, or message broker. It is known for its fast performance and versatility, making it a popular choice for various applications, including EdgeChains.</p><p>One of the key benefits of Redis is its ability to store and retrieve data in memory, which allows for extremely fast read and write operations. This makes Redis well-suited for use cases that require low-latency data access, such as real-time applications and caching. Redis supports a wide range of data structures, including strings, lists, sets, hashes, and sorted sets. This flexibility enables developers to model complex data scenarios and perform advanced operations on the data stored in Redis.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ii-creating-a-free-redis-instance">II. Creating a free Redis Instance<a href="#ii-creating-a-free-redis-instance" class="hash-link" aria-label="Direct link to II. Creating a free Redis Instance" title="Direct link to II. Creating a free Redis Instance">​</a></h2><p>To integrate Redis into your EdgeChains application, you&#x27;ll first need to create a Redis instance. Follow these step-by-step instructions to create a Redis instance:</p><p><strong>1. Sign up for Redis:</strong> Visit <a href="https://redis.com/" target="_blank" rel="noopener noreferrer">Redis website</a> and click on the <em>Try Free</em> button in the top right corner. You can sign up using your preferred email address and password, or utilize your existing Google or GitHub account for a seamless registration process. </p><p><img loading="lazy" alt="Redis landing page" src="/assets/images/redis1-cd44672d2d11bebfad84ab03bb605621.png" width="1814" height="943" class="img_ev3q"></p><p>During the signup process, you can also select your desired cloud vendor and region and click on <em>Let&#x27;s start free</em> to continue. Once registered, you will be directed to the Redis dashboard.</p><p><img loading="lazy" alt="Redis signup page" src="/assets/images/redis2-a3d738edb251e87342d574bce73cbe60.png" width="1338" height="815" class="img_ev3q"></p><p><strong>2. Access the Subscriptions Section:</strong> In the Redis dashboard, navigate to the <em>Subscriptions</em> section. Here, you will find information about your free subscription, which includes a storage limit of 30 MB.</p><p><img loading="lazy" alt="Redis Subscription section" src="/assets/images/sub-ce59126b3097100a92510fc16f0a86fc.png" width="1841" height="956" class="img_ev3q"></p><p><strong>3. Configure Your Free Subscription:</strong>. Within the Subscriptions section, click on the configuration settings for your free subscription. This will provide you with the public endpoint of your Redis instance, which is crucial for establishing a connection.</p><p><img loading="lazy" alt="Redis Configuration section" src="/assets/images/config-94d5b7ea342c408b63d1d4120007a64c.png" width="1237" height="780" class="img_ev3q"></p><p>Copy the public endpoint provided in the configuration settings. The endpoint typically looks like this:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">redis-19222.c1.us-east-1-3.ec2.cloud.redislabs.com:19222</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>In this example, redis-19222 represents the hostname of the Redis server, c1 is an identifier for a specific Redis instance or deployment, us-east-1-3.ec2.cloud represents the region or data center, and 19222 is the port number.</p></blockquote><p>To establish a connection to your Redis instance, you need to extract the URL and port information from the endpoint. A Redis URL follows the format: </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">redis://</span><span class="token operator">&lt;</span><span class="token plain">host</span><span class="token operator">&gt;</span><span class="token plain">:</span><span class="token operator">&lt;</span><span class="token plain">port</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>where <!-- -->&lt;<!-- -->host<!-- -->&gt;<!-- --> represents the hostname or IP address of the Redis server, and<!-- -->&lt;<!-- -->port<!-- -->&gt;<!-- --> represents the port number on which Redis is running. In the given example, redis-19222.c1.us-east-1-3.ec2.cloud.redislabs.com is the URL and 19222 is the port.</p><blockquote><p>You will need to take note of the Redis URL and port to use them in your EdgeChains application.</p></blockquote><p>By obtaining the Redis endpoint, you will have the necessary information to establish a connection to your Redis instance and start utilizing its features.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/redis">Redis</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/arakoo">Arakoo</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/github-gpt">How to Craft a Stellar GitHub Support Bot with GPT-3 and Chain-of-Thought</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-12T00:00:00.000Z" itemprop="datePublished">May 12, 2023</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/114422989" alt="Arakoo"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arakoo</span></a></div><small class="avatar__subtitle" itemprop="description">Arakoo Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>In today&#x27;s fast-paced software development world, efficient support and issue resolution is paramount to a project&#x27;s success. Building a powerful GitHub support bot with GPT-3 and chain-of-thought techniques can help streamline the process and enhance user experience. This comprehensive guide will delve into the intricacies of creating such a bot, discussing the benefits, implementation, and performance optimization.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="benefits-of-a-github-support-bot">Benefits of a GitHub Support Bot<a href="#benefits-of-a-github-support-bot" class="hash-link" aria-label="Direct link to Benefits of a GitHub Support Bot" title="Direct link to Benefits of a GitHub Support Bot">​</a></h3><ol><li><strong>Faster issue resolution</strong>: A well-designed support bot can quickly and accurately answer user queries or suggest appropriate steps to resolve issues, reducing the burden on human developers.</li><li><strong>Improved user experience</strong>: A support bot can provide real-time assistance to users, ensuring a seamless and positive interaction with your project.</li><li><strong>Reduced workload for maintainers</strong>: By handling repetitive and straightforward questions, the bot frees up maintainers to focus on more complex tasks and development work.</li><li><strong>Enhanced project reputation</strong>: A responsive and knowledgeable support bot can boost your project&#x27;s credibility and attract more contributors.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gpt-3-an-overview">GPT-3: An Overview<a href="#gpt-3-an-overview" class="hash-link" aria-label="Direct link to GPT-3: An Overview" title="Direct link to GPT-3: An Overview">​</a></h3><p><a href="https://arxiv.org/abs/2005.14165" target="_blank" rel="noopener noreferrer">OpenAI&#x27;s GPT-3 (Generative Pre-trained Transformer 3)</a> is a state-of-the-art language model that can generate human-like text based on a given prompt. GPT-3 can be used for various tasks, such as question-answering, translation, summarization, and more. Its massive size (175 billion parameters) and pre-trained nature make it an ideal tool for crafting intelligent support bots.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementing-a-github-support-bot-with-gpt-3">Implementing a GitHub Support Bot with GPT-3<a href="#implementing-a-github-support-bot-with-gpt-3" class="hash-link" aria-label="Direct link to Implementing a GitHub Support Bot with GPT-3" title="Direct link to Implementing a GitHub Support Bot with GPT-3">​</a></h2><p>To build a GitHub support bot using GPT-3, follow these steps:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-acquire-api-access">Step 1: Acquire API Access<a href="#step-1-acquire-api-access" class="hash-link" aria-label="Direct link to Step 1: Acquire API Access" title="Direct link to Step 1: Acquire API Access">​</a></h3><p>Obtain access to the <a href="https://beta.openai.com/signup/" target="_blank" rel="noopener noreferrer">OpenAI API</a> for GPT-3. Once you have API access, you can integrate it into your bot&#x27;s backend.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-set-up-a-github-webhook">Step 2: Set Up a GitHub Webhook<a href="#step-2-set-up-a-github-webhook" class="hash-link" aria-label="Direct link to Step 2: Set Up a GitHub Webhook" title="Direct link to Step 2: Set Up a GitHub Webhook">​</a></h3><p>Create a <a href="https://developer.github.com/webhooks/" target="_blank" rel="noopener noreferrer">GitHub webhook</a> to trigger your bot whenever an issue or comment is created. The webhook should be configured to send a POST request to your bot&#x27;s backend with relevant data.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-process-incoming-data">Step 3: Process Incoming Data<a href="#step-3-process-incoming-data" class="hash-link" aria-label="Direct link to Step 3: Process Incoming Data" title="Direct link to Step 3: Process Incoming Data">​</a></h3><p>In your bot&#x27;s backend, parse the incoming data from the webhook and extract the necessary information, such as issue title, description, and user comments.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-generate-responses-with-gpt-3">Step 4: Generate Responses with GPT-3<a href="#step-4-generate-responses-with-gpt-3" class="hash-link" aria-label="Direct link to Step 4: Generate Responses with GPT-3" title="Direct link to Step 4: Generate Responses with GPT-3">​</a></h3><p>Using the extracted information, construct a suitable prompt for GPT-3. Query the OpenAI API with this prompt to generate a response. Tools like <a href="https://github.com/arakoodev/edgechains" target="_blank" rel="noopener noreferrer">Arakoo EdgeChains</a> help developers deal with the complexity of LLM &amp; chain of thought.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-5-post-the-generated-response">Step 5: Post the Generated Response<a href="#step-5-post-the-generated-response" class="hash-link" aria-label="Direct link to Step 5: Post the Generated Response" title="Direct link to Step 5: Post the Generated Response">​</a></h3><p>Parse the response from GPT-3 and post it as a comment on the relevant issue using the <a href="https://developer.github.com/v3/issues/comments/#create-a-comment" target="_blank" rel="noopener noreferrer">GitHub API</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enhancing-support-bot-performance-with-chain-of-thought">Enhancing Support Bot Performance with Chain-of-Thought<a href="#enhancing-support-bot-performance-with-chain-of-thought" class="hash-link" aria-label="Direct link to Enhancing Support Bot Performance with Chain-of-Thought" title="Direct link to Enhancing Support Bot Performance with Chain-of-Thought">​</a></h2><p>Chain-of-thought is a technique that enables AI models to maintain context and coherence across multiple response generations. This section will discuss incorporating chain-of-thought into your GitHub support bot for improved performance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retaining-context-in-conversations">Retaining Context in Conversations<a href="#retaining-context-in-conversations" class="hash-link" aria-label="Direct link to Retaining Context in Conversations" title="Direct link to Retaining Context in Conversations">​</a></h3><p>To preserve context, store previous interactions (such as user comments and bot responses) in your bot&#x27;s backend. When generating a new response, include the relevant conversation history in the GPT-3 prompt.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementing-multi-turn-dialogues">Implementing Multi-turn Dialogues<a href="#implementing-multi-turn-dialogues" class="hash-link" aria-label="Direct link to Implementing Multi-turn Dialogues" title="Direct link to Implementing Multi-turn Dialogues">​</a></h3><p>For complex issues requiring back-and-forth communication, implement multi-turn dialogues by continuously updating the conversation history and generating appropriate GPT-3 prompts.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimizing-gpt-3-parameters">Optimizing GPT-3 Parameters<a href="#optimizing-gpt-3-parameters" class="hash-link" aria-label="Direct link to Optimizing GPT-3 Parameters" title="Direct link to Optimizing GPT-3 Parameters">​</a></h3><p>Experiment with GPT-3&#x27;s API parameters, such as <code>temperature</code> and <code>top_p</code>, to control the randomness and quality of generated responses. Tools like Arakoo EdgeChains help developers deal with the complexity of LLM &amp; chain of thought.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-and-improving-your-support-bots-performance">Monitoring and Improving Your Support Bot&#x27;s Performance<a href="#monitoring-and-improving-your-support-bots-performance" class="hash-link" aria-label="Direct link to Monitoring and Improving Your Support Bot&#x27;s Performance" title="Direct link to Monitoring and Improving Your Support Bot&#x27;s Performance">​</a></h2><p>Regularly assess your bot&#x27;s performance to ensure it meets user expectations and adheres to E-A-T (Expertise, Authoritativeness, Trustworthiness) and YMYL (Your Money or Your Life) guidelines.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="analyzing-user-feedback">Analyzing User Feedback<a href="#analyzing-user-feedback" class="hash-link" aria-label="Direct link to Analyzing User Feedback" title="Direct link to Analyzing User Feedback">​</a></h3><p>Monitor user reactions and feedback to identify areas of improvement and optimize your bot&#x27;s performance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="refining-gpt-3-prompts">Refining GPT-3 Prompts<a href="#refining-gpt-3-prompts" class="hash-link" aria-label="Direct link to Refining GPT-3 Prompts" title="Direct link to Refining GPT-3 Prompts">​</a></h3><p>Iteratively improve your GPT-3 prompts based on performance analysis to generate more accurate and helpful responses.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="automating-performance-evaluation">Automating Performance Evaluation<a href="#automating-performance-evaluation" class="hash-link" aria-label="Direct link to Automating Performance Evaluation" title="Direct link to Automating Performance Evaluation">​</a></h3><p>Implement automated performance evaluation metrics, such as response time and issue resolution rate, to gauge your bot&#x27;s effectiveness.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>Building a GitHub support bot with GPT-3 and chain-of-thought techniques can significantly improve user experience and accelerate issue resolution. By following the steps outlined in this guide and continuously monitoring and optimizing performance, you can create a highly effective support bot that adds immense value to your project.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/chain-of-thought">chain-of-thought</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/llm">llm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/github">github</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/arakoo">arakoo</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/why-llm">Why you should be using chain-of-thought instead of prompts in chatGPT</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-06T00:00:00.000Z" itemprop="datePublished">May 6, 2023</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/114422989" alt="Arakoo"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arakoo</span></a></div><small class="avatar__subtitle" itemprop="description">Arakoo Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" alt="Chain of Thought" src="/assets/images/chain-of-thought-f344db3814ef59d618539fe5bc30ee36.png" width="1130" height="1132" class="img_ev3q"></p><h1>Why You Should Be Using Chain-of-Thought Instead of Prompts in ChatGPT</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2><p>Chatbot development has progressed considerably in recent years, with the advent of powerful algorithms like GPT-3. However, there exists a common problem where simple prompts do not suffice in effectively controlling the AI&#x27;s output. Chain-of-thought, a more complex method for handling AI inputs, offers a better solution to this issue. In this article, we will dive deep into why chain-of-thought should play a significant role in your ChatGPT applications.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="benefits-of-chain-of-thought">Benefits of Chain-of-Thought<a href="#benefits-of-chain-of-thought" class="hash-link" aria-label="Direct link to Benefits of Chain-of-Thought" title="Direct link to Benefits of Chain-of-Thought">​</a></h2><p>While prompts might seem like a more straightforward approach, the advantages of using chain-of-thought in ChatGPT far outweigh their simplicity. By employing chain-of-thought, developers can enjoy various benefits that ultimately lead to improved capabilities in AI interactions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="improved-controllability">Improved Controllability<a href="#improved-controllability" class="hash-link" aria-label="Direct link to Improved Controllability" title="Direct link to Improved Controllability">​</a></h3><p>One of the most notable benefits of chain-of-thought is its ability to provide better controllability over AI-generated responses. Traditional prompt-based strategies often result in unexpected outputs that render the final outcomes unfit for their intended purpose. Chain-of-thought empowers developers to generate more precise responses, benefiting users in need of accurate and tailor-made outcomes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhanced-flexibility">Enhanced Flexibility<a href="#enhanced-flexibility" class="hash-link" aria-label="Direct link to Enhanced Flexibility" title="Direct link to Enhanced Flexibility">​</a></h3><p>Chain-of-thought allows developers to make adjustments and fine-tune their AI-generated responses in a more flexible manner. Unlike the prompt-based approach, which is burdened by its rigidity, chain-of-thought readily accommodates alterations in input parameters or context. This heightened adaptability makes it ideal for applications where the AI has to handle a broad range of evolving scenarios.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="greater-clarity-and-context">Greater Clarity and Context<a href="#greater-clarity-and-context" class="hash-link" aria-label="Direct link to Greater Clarity and Context" title="Direct link to Greater Clarity and Context">​</a></h3><p>In many situations, prompts fail to provide sufficient information for generating coherent outputs. Chain-of-thought, on the other hand, emphasizes the importance of context, ensuring the AI fully understands the user&#x27;s instructions. This results in more accurate and coherent responses, ultimately making communication with the AI more efficient and productive.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="better-conversational-flow">Better Conversational Flow<a href="#better-conversational-flow" class="hash-link" aria-label="Direct link to Better Conversational Flow" title="Direct link to Better Conversational Flow">​</a></h3><p>In contrast to prompt-centric approaches, chain-of-thought excels at maintaining natural and engaging conversations. By incorporating an ongoing dialogue within the input, chain-of-thought helps ensure the AI&#x27;s responses align seamlessly with the conversation&#x27;s existing context. This promotes uninterrupted and more fluent exchanges between the AI and its users.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-solution-for-complex-applications">A Solution for Complex Applications<a href="#a-solution-for-complex-applications" class="hash-link" aria-label="Direct link to A Solution for Complex Applications" title="Direct link to A Solution for Complex Applications">​</a></h3><p>For applications that demand a high degree of complexity, chain-of-thought serves as an invaluable tool in the developer&#x27;s arsenal. Its emphasis on context, adaptability, and precision allows it to tackle demanding tasks that might otherwise prove unsuitable for simpler methods like prompts. Tools like Arakoo EdgeChains help developers deal with the complexity of LLM &amp; chain of thought.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementing-chain-of-thought-in-your-applications">Implementing Chain-of-Thought in Your Applications<a href="#implementing-chain-of-thought-in-your-applications" class="hash-link" aria-label="Direct link to Implementing Chain-of-Thought in Your Applications" title="Direct link to Implementing Chain-of-Thought in Your Applications">​</a></h2><p>To maximize the benefits of chain-of-thought in ChatGPT, it&#x27;s essential to have a firm grasp of its key components and best practices for integration. By focusing on proper implementation and optimal usage, developers can unlock its full potential.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="methodological-considerations">Methodological Considerations<a href="#methodological-considerations" class="hash-link" aria-label="Direct link to Methodological Considerations" title="Direct link to Methodological Considerations">​</a></h3><p>Chain-of-thought requires developers to shift their perspective from isolated prompts to a continuous stream of linked inputs. This necessitates a new approach to AI input formulation, where developers must construct sets of interconnected queries and statements in sequence, carefully ensuring each response is taken into consideration before constructing further inputs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="effective-feedback-mechanisms">Effective Feedback Mechanisms<a href="#effective-feedback-mechanisms" class="hash-link" aria-label="Direct link to Effective Feedback Mechanisms" title="Direct link to Effective Feedback Mechanisms">​</a></h3><p>With chain-of-thought, implementing an effective feedback mechanism is vital to improving the AI&#x27;s understanding of the given context. Developers should leverage reinforcement learning approaches and constantly update their models with feedback gathered from users, progressively fine-tuning the AI to ensure higher quality outputs over time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tools-and-technologies">Tools and Technologies<a href="#tools-and-technologies" class="hash-link" aria-label="Direct link to Tools and Technologies" title="Direct link to Tools and Technologies">​</a></h3><p>To facilitate chain-of-thought implementation, developers should familiarize themselves with relevant tools and technologies that simplify and streamline the process. Tools like Arakoo EdgeChains help developers deal with the complexity of LLM &amp; chain of thought, while robust APIs and SDKs support the development of coherent input-output sequences for improved AI interactions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases-for-chain-of-thought-in-chatgpt">Use Cases for Chain-of-Thought in ChatGPT<a href="#use-cases-for-chain-of-thought-in-chatgpt" class="hash-link" aria-label="Direct link to Use Cases for Chain-of-Thought in ChatGPT" title="Direct link to Use Cases for Chain-of-Thought in ChatGPT">​</a></h2><p>The versatility of chain-of-thought has made it an increasingly popular choice for various applications across multiple industries, bolstering its reputation as an essential component of modern AI-powered solutions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="customer-support">Customer Support<a href="#customer-support" class="hash-link" aria-label="Direct link to Customer Support" title="Direct link to Customer Support">​</a></h3><p>Chain-of-thought can greatly enhance virtual customer support agents by providing them with the necessary context to handle diverse user queries accurately. This results in more personalized support experiences for users and increased efficiency for support teams.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-assistants">Virtual Assistants<a href="#virtual-assistants" class="hash-link" aria-label="Direct link to Virtual Assistants" title="Direct link to Virtual Assistants">​</a></h3><p>Virtual assistants can benefit from chain-of-thought by maintaining a continuous dialogue with users, making the interactions feel more natural and engaging. This ensures the AI maintains relevancy to the evolving user needs, thereby increasing its overall utility.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="interactive-gaming-and-storytelling">Interactive Gaming and Storytelling<a href="#interactive-gaming-and-storytelling" class="hash-link" aria-label="Direct link to Interactive Gaming and Storytelling" title="Direct link to Interactive Gaming and Storytelling">​</a></h3><p>The dynamic nature of chain-of-thought makes it well-suited for complex applications in interactive gaming and storytelling. By allowing the virtual characters to respond intelligently based on the player&#x27;s choices, it can cultivate more immersive and engaging experiences.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>In an era where AI applications are growing increasingly sophisticated, relying on traditional prompts is no longer sufficient. Chain-of-thought provides a more advanced and efficient approach to handling AI interactions, which, when implemented correctly, can lead to significant improvements in AI-generated outputs. By leveraging the power of chain-of-thought, developers can create transformative AI applications, ensuring their ChatGPT solutions remain at the cutting edge of innovation.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/chain-of-thought">chain-of-thought</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/llm">llm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/arakoo">arakoo</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/openai-api-key">how to get OpenAI API key</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-05T00:00:00.000Z" itemprop="datePublished">May 5, 2023</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/114422989" alt="Arakoo"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arakoo</span></a></div><small class="avatar__subtitle" itemprop="description">Arakoo Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" alt="OpenAI logo" src="/assets/images/openai-89ee6becf177843b23ee79b7259cc2dd.png" width="902" height="326" class="img_ev3q"></p><h1>Introduction</h1><p>Integrating AI services into your projects has become increasingly important, and obtaining an OpenAI API key is a vital step in this process. By acquiring an API key, you unlock access to OpenAI&#x27;s robust natural language processing capabilities, empowering you to optimize the efficiency and precision of your applications. In this comprehensive guide, we will walk you through the step-by-step process of obtaining an OpenAI API key. Tools like <a href="https://github.com/arakoodev/edgechains" target="_blank" rel="noopener noreferrer">Arakoo EdgeChains</a> can greatly assist you in utilizing the OpenAI API seamlessly.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="is-an-openai-api-key-free">Is an OpenAI API Key Free?<a href="#is-an-openai-api-key-free" class="hash-link" aria-label="Direct link to Is an OpenAI API Key Free?" title="Direct link to Is an OpenAI API Key Free?">​</a></h2><p><strong>Free Trial, Credit and Billing Information</strong></p><p>You can create an OpenAI API key free of charge. As a new user, you will receive $5 (USD) worth of credit as part of the free trial. However, please note that this credit expires after three months. Once your credit has been utilized or expired, you have the option to enter your billing information to continue using the API according to your requirements. It&#x27;s important to remember that if you do not provide billing information, you will still have login access but won&#x27;t be able to make additional API requests.</p><p><strong>Rate Limits:</strong></p><p>OpenAI implements rate limits at the organizational level, and if you are using their services for business purposes, payment may be required based on certain factors. Rate limits are measured in two ways: RPM (requests per minute) and TPM (tokens per minute).</p><p><strong>Cost and Pricing:</strong></p><p>If you are interested in specific costs associated with the AI model you intend to use (e.g., GPT-4 or gpt-3.5-turbo, as employed in ChatGPT), you can refer to <a href="https://openai.com/pricing" target="_blank" rel="noopener noreferrer">OpenAI&#x27;s AI model pricing page</a>. In many cases, utilizing the API could be more cost-effective than a paid ChatGPT Plus subscription, although the actual expenses depend on your usage. </p><blockquote><p>For a comprehensive overview of precise rate limits, examples, and other valuable details, we recommend visiting <a href="https://platform.openai.com/docs/guides/rate-limits" target="_blank" rel="noopener noreferrer">OpenAI&#x27;s Rate Limits page</a>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-get-an-openai-api-key">How do I get an OpenAI API Key?<a href="#how-do-i-get-an-openai-api-key" class="hash-link" aria-label="Direct link to How do I get an OpenAI API Key?" title="Direct link to How do I get an OpenAI API Key?">​</a></h2><p>To begin with, follow the steps below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-create-an-openai-account">1. Create an OpenAI account<a href="#1-create-an-openai-account" class="hash-link" aria-label="Direct link to 1. Create an OpenAI account" title="Direct link to 1. Create an OpenAI account">​</a></h3><p>To get started, please navigate to the <a href="https://openai.com/" target="_blank" rel="noopener noreferrer">OpenAI platform website</a> and proceed with creating an account by following the provided instructions. You have the option to sign up using your preferred email address and password, or alternatively, you can utilize your existing Google or Microsoft account for a seamless registration process.</p><p><img loading="lazy" alt="OpenAI login page" src="/assets/images/Login-f70eca09d4ced28caa49d1875aa9fc61.png" width="3360" height="1880" class="img_ev3q"></p><p>After completing the registration, OpenAI will send you a confirmation email to verify your account. Please locate the email in your inbox and click on the verification link provided to ensure the utmost security of your account. Once you have verified your account, return to the OpenAI website and click on the &quot;Log In&quot; button. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-navigate-to-the-api-section">2. Navigate to the API section<a href="#2-navigate-to-the-api-section" class="hash-link" aria-label="Direct link to 2. Navigate to the API section" title="Direct link to 2. Navigate to the API section">​</a></h3><p>Upon logging in, you will locate your name and profile icon situated in the upper-right corner of the OpenAI platform homepage. Please click on your name to unveil a dropdown menu, and proceed to select the <em>View API keys</em> option. </p><p>Alternatively you can navigate to the <a href="https://platform.openai.com/apps" target="_blank" rel="noopener noreferrer">apps section</a> and click on API. </p><p><img loading="lazy" alt="OpenAI API page" src="/assets/images/APIpage-b0d659b51b40cb7209f2963d5d62899b.png" width="1538" height="857" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-generate-a-new-api-key">3. Generate a new API key<a href="#3-generate-a-new-api-key" class="hash-link" aria-label="Direct link to 3. Generate a new API key" title="Direct link to 3. Generate a new API key">​</a></h3><p>In the API keys section, find the <em>Create new secret key</em> button and proceed to click on it in order to generate a fresh API key. A dialog box will promptly appear, requesting you to provide a descriptive name for your secret API key. It is advisable to choose a name that conveys its purpose clearly, facilitating future identification. </p><p><img loading="lazy" alt="OpenAI API Key page" src="/assets/images/create-cb71b56919b08f3d2d2fd198deae2ed2.jpeg" width="1280" height="588" class="img_ev3q"></p><p>Ensure that you save the API key promptly, as the window displaying it cannot be reopened once closed.</p><p><img loading="lazy" alt="OpenAI API Key page" src="/assets/images/create2-450e28b9cf196c4adbd1a71f234f8183.png" width="1480" height="745" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-set-up-billing">4. Set up billing<a href="#4-set-up-billing" class="hash-link" aria-label="Direct link to 4. Set up billing" title="Direct link to 4. Set up billing">​</a></h3><p>OpenAI charges for API usage based on your usage volume. Therefore, if you haven&#x27;t already set up a payment method for billing, it&#x27;s necessary to do so before your newly created API key can function.</p><p>To initiate the billing setup process, navigate to the <em>Billing</em> section located in the left-hand menu, followed by selecting the <em>Payment methods</em> option. </p><p><img loading="lazy" alt="OpenAI Billing page" src="/assets/images/pay-c954a7be05037205bbd17ea8b8373994.png" width="1464" height="738" class="img_ev3q"></p><p>Within the payment methods interface, you will find an option labeled <em>Set up paid account</em>. This option allows you to choose between two methods: For Individual and Company.</p><p><img loading="lazy" alt="OpenAI Billing page" src="/assets/images/pay2-a602a9f134abd1dedd9cd4a71993eaf4.png" width="1844" height="957" class="img_ev3q"></p><p>By clicking on any option, a pop-up window will emerge, facilitating the input of your credit card details and pertinent billing information. Once you have provided all the required information, please proceed by clicking <em>Submit</em> to finalize the process.</p><p><img loading="lazy" alt="OpenAI Billing page" src="/assets/images/pay3-508a90c8d415c9d4bd62b1b34b8d970e.png" width="1464" height="758" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-set-usage-limits">5. Set usage limits<a href="#5-set-usage-limits" class="hash-link" aria-label="Direct link to 5. Set usage limits" title="Direct link to 5. Set usage limits">​</a></h3><p>To ensure efficient management of your monthly API expenditure, it is advisable to establish usage limits after setting up the billing process.</p><p>To proceed, navigate to the left menu and select the option <em>Usage limits</em>. Here, you can define both hard and soft usage limits based on your specific requirements. Once you have determined the desired limits, simply click on the <em>Save</em> button to save your changes.</p><p>By following these steps, you will successfully obtain an OpenAI API key and be ready to harness the power of OpenAI&#x27;s natural language processing capabilities in your projects.</p><p><img loading="lazy" alt="OpenAI Usage page" src="/assets/images/usage-d6a335c96875e6e8d07e6cd1ceb2fbf7.png" width="2688" height="1499" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ensure-you-follow-openais-usage-guidelines">Ensure you follow OpenAI&#x27;s usage guidelines‍<a href="#ensure-you-follow-openais-usage-guidelines" class="hash-link" aria-label="Direct link to Ensure you follow OpenAI&#x27;s usage guidelines‍" title="Direct link to Ensure you follow OpenAI&#x27;s usage guidelines‍">​</a></h3><p>As a final note, be sure to familiarize yourself with OpenAI&#x27;s use case policy and terms of use.You can find detailed information regarding these policies at the <a href="https://openai.com/policies/usage-policies" target="_blank" rel="noopener noreferrer">OpenAI usage policies</a> .</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-key-best-practices">API Key Best Practices<a href="#api-key-best-practices" class="hash-link" aria-label="Direct link to API Key Best Practices" title="Direct link to API Key Best Practices">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-security">Key Security<a href="#key-security" class="hash-link" aria-label="Direct link to Key Security" title="Direct link to Key Security">​</a></h3><p>When it comes to securing your OpenAI API key, it is crucial to follow best practices to protect sensitive information. Here are some key security measures to consider:</p><ol><li><strong>Secure Storage</strong>: Store your API key in a secure location, such as a password-protected and encrypted storage system. Avoid storing it in plain text or easily accessible locations, such as code repositories.</li><li><strong>Restricted Access</strong>: Limit access to your API key to authorized individuals only. Implement robust access controls and authentication mechanisms to ensure that only trusted parties can retrieve and use the key.</li><li><strong>Device Limitations</strong>: Minimize the number of devices that store your API key. By reducing the number of endpoints where the key is stored, you can reduce the potential attack surface and enhance overall security.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-rotation">Key Rotation<a href="#key-rotation" class="hash-link" aria-label="Direct link to Key Rotation" title="Direct link to Key Rotation">​</a></h3><p>Regularly rotating your API key is essential for maintaining its security. By frequently changing your key, you mitigate the risks associated with long-term exposure or compromise. Follow these guidelines for effective key rotation:</p><ol><li><strong>Timely Updates</strong>: Whenever you change your API key, make sure to promptly update it across all integrations and applications that rely on it. This ensures that any potential vulnerabilities associated with the previous key are eliminated.</li><li><strong>Automation Tools</strong>: Consider leveraging automation tools specifically designed for managing and rotating multiple API keys. One such tool is <a href="https://www.arakoo.ai/" target="_blank" rel="noopener noreferrer">Arakoo EdgeChains</a>, which provides seamless key management capabilities to simplify the process.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="integrating-the-openai-api">Integrating the OpenAI API<a href="#integrating-the-openai-api" class="hash-link" aria-label="Direct link to Integrating the OpenAI API" title="Direct link to Integrating the OpenAI API">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="selecting-the-appropriate-api-endpoint">Selecting the Appropriate API Endpoint<a href="#selecting-the-appropriate-api-endpoint" class="hash-link" aria-label="Direct link to Selecting the Appropriate API Endpoint" title="Direct link to Selecting the Appropriate API Endpoint">​</a></h3><p>Depending on your use case, you may need to interact with different API endpoints provided by OpenAI, such as <code>Completion</code> or <code>Translation</code>. Ensure to review OpenAI&#x27;s documentation to understand which endpoint best fits your needs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-request-and-response-handling">API Request and Response Handling<a href="#api-request-and-response-handling" class="hash-link" aria-label="Direct link to API Request and Response Handling" title="Direct link to API Request and Response Handling">​</a></h3><p>When integrating the OpenAI API, be sure to handle requests and responses properly. Construct the appropriate request headers and payloads based on OpenAI&#x27;s documentation, and handle potential errors gracefully. Implement appropriate timeouts and error-handling mechanisms to maintain the stability of your application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-use-cases-for-the-openai-api">Common Use Cases for the OpenAI API<a href="#common-use-cases-for-the-openai-api" class="hash-link" aria-label="Direct link to Common Use Cases for the OpenAI API" title="Direct link to Common Use Cases for the OpenAI API">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ai-generated-content">AI-Generated Content<a href="#ai-generated-content" class="hash-link" aria-label="Direct link to AI-Generated Content" title="Direct link to AI-Generated Content">​</a></h3><p>The <code>Completion</code> endpoint enables the generation of human-like, context-relevant content for a variety of purposes, such as article drafting, email composition, and social media posting.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="natural-language-translation">Natural Language Translation<a href="#natural-language-translation" class="hash-link" aria-label="Direct link to Natural Language Translation" title="Direct link to Natural Language Translation">​</a></h3><p>With OpenAI&#x27;s <code>Translation</code> endpoint, you can easily translate text between various languages, assisting with communication in multilingual environments.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sentiment-analysis">Sentiment Analysis<a href="#sentiment-analysis" class="hash-link" aria-label="Direct link to Sentiment Analysis" title="Direct link to Sentiment Analysis">​</a></h3><p>By analyzing the emotion or tone of content, OpenAI can provide valuable insights for customer relationship management or market research.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="text-summarization">Text Summarization<a href="#text-summarization" class="hash-link" aria-label="Direct link to Text Summarization" title="Direct link to Text Summarization">​</a></h3><p>The API can help in condensing long documents, articles, or emails into brief, coherent summaries, saving valuable time and improving readability.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="question-and-answer-systems">Question and Answer Systems<a href="#question-and-answer-systems" class="hash-link" aria-label="Direct link to Question and Answer Systems" title="Direct link to Question and Answer Systems">​</a></h3><p>Leveraging OpenAI&#x27;s natural language understanding, creating intelligent chatbots and automated customer support systems is simplified.</p><h1>Conclusion</h1><p>Acquiring an OpenAI API key will unlock the potential of OpenAI&#x27;s powerful language processing capabilities for your projects. Following best practices and carefully integrating the API into your projects will help you make the most of these powerful tools. Remember, tools like <a href="https://github.com/arakoodev/edgechains" target="_blank" rel="noopener noreferrer">Arakoo EdgeChains</a> can assist you in the integration process, enabling seamless use of the OpenAI API.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/openai">openai</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/arakoo">arakoo</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/Vector-Database">Vector-Databas-at-a-Glance</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-28T00:00:00.000Z" itemprop="datePublished">February 28, 2023</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/114422989" alt="Arakoo"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Arakoo</span></a></div><small class="avatar__subtitle" itemprop="description">Arakoo Core Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>![Vector Database]<!-- -->(./Screenshot 2023-08-28 at 5.22.13 PM.png)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vector-database-at-a-glance">Vector Database At A Glance<a href="#vector-database-at-a-glance" class="hash-link" aria-label="Direct link to Vector Database At A Glance" title="Direct link to Vector Database At A Glance">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-">Introduction –<a href="#introduction-" class="hash-link" aria-label="Direct link to Introduction –" title="Direct link to Introduction –">​</a></h2><p>A vector database is a type of database that stores data as high-dimensional vectors, which are mathematical representations of features or attributes. Each vector has a certain number of dimensions, which can range from tens to thousands, depending on the complexity and granularity of the data. The vectors are usually generated by applying some kind of transformation or embedding function to the raw data, such as text, images, audio, video, and others. The embedding function can be based on various methods, such as machine learning models, word embeddings, feature extraction algorithms. Edegchian uses vector database and enhances the backend capabilities of applications built with the framework, enabling developers to create advanced and interactive applications powered by large language models.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="vector-database">Vector Database?<a href="#vector-database" class="hash-link" aria-label="Direct link to Vector Database?" title="Direct link to Vector Database?">​</a></h2><p>Information comes in many forms. Some information is unstructured—like text documents, rich media, and audio—and some is structured—like application logs, tables, and graphs. Innovations in artificial intelligence and machine learning (AI/ML) have allowed us to create a type of ML model—embedding models. Embeddings encode all types of data into vectors that capture the meaning and context of an asset. This allows us to find similar assets by searching for neighboring data points. Vector search methods allow unique experiences like taking a photograph with your smartphone and searching for similar images.
Vector databases provide the ability to store and retrieve vectors as high-dimensional points. They add additional capabilities for efficient and fast lookup of nearest-neighbors in the N-dimensional space. They are typically powered by k-nearest neighbor (k-NN) indexes and built with algorithms like the Hierarchical Navigable Small World (HNSW) and Inverted File Index (IVF) algorithms. Vector databases provide additional capabilities like data management, fault tolerance, authentication and access control, and a query engine.
For example, you can use a vector database to:
•	find images that are similar to a given image based on their visual content and style
•	find documents that are similar to a given document based on their topic and sentiment
•	find products that are similar to a given product based on their features and ratings
To perform similarity search and retrieval in a vector database, you need to use a query vector that represents your desired information or criteria. The query vector can be either derived from the same type of data as the stored vectors (e.g., using an image as a query for an image database), or from different types of data (e.g., using text as a query for an image database). Then, you need to use a similarity measure that calculates how close or distant two vectors are in the vector space. The similarity measure can be based on various metrics, such as cosine similarity, euclidean distance, hamming distance, jaccard index.
The result of the similarity search and retrieval is usually a ranked list of vectors that have the highest similarity scores with the query vector. You can then access the corresponding raw data associated with each vector from the original source or index.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="importance-of-vector-database">Importance of Vector Database<a href="#importance-of-vector-database" class="hash-link" aria-label="Direct link to Importance of Vector Database" title="Direct link to Importance of Vector Database">​</a></h2><p>Your developers can index vectors generated by embeddings into a vector database. This allows allowing them to find similar assets by querying for neighboring vectors.
Vector databases provide a method to operationalize embedding models. Application development is more productive with database capabilities like resource management, security controls, scalability, fault tolerance, and efficient information retrieval through sophisticated query languages.
Vector databases ultimately empower developers to create unique application experiences. For example, your users could snap photographs on their smartphones to search for similar images.
Developers can use other types of machine learning models to automate metadata extraction from content like images and scanned documents. They can index metadata alongside vectors to enable hybrid search on both keywords and vectors. They can also fuse semantic understanding into relevancy ranking to improve search results.
Innovations in generative artificial intelligence (AI) have introduce new types of models like ChatGPT that can generate text and manage complex conversations with humans. Some can operate on multiple modalities; for instance, some models allow users to describe a landscape and generate an image that fits the description.
Generative models are, however, prone to hallucinations, which could, for instance, cause a chatbot to mislead users. Vector databases can complement generative AI models. They can provide an external knowledge base for generative AI chatbots and help ensure they provide trustworthy information.
How are vector databases used?
Vector databases are typically used to power vector search use cases like visual, semantic, and multimodal search. More recently, they’re paired with generative artificial intelligence (AI) text models to create intelligent agents that provide conversational search experiences.
The development process starts with building an embedding model that’s designed to encode a corpus like product images into vectors. The data import process is also called data hydration. The application developer can now use the database to search for similar products by encoding a product image and using the vector to query for similar images.
Within the model, the k-nearest neighbor (k-NN) indexes provide efficient retrieval of vectors and apply a distance function like cosine to rank results by similarity. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-case-of-vector-database">Use-Case Of Vector Database<a href="#use-case-of-vector-database" class="hash-link" aria-label="Direct link to Use-Case Of Vector Database" title="Direct link to Use-Case Of Vector Database">​</a></h2><p>Vector databases are for developers who want to create vector search powered experiences. An application developer can use open-source models, automated machine learning (ML) tools, and foundational model services to generate embeddings and hydrate a vector database. This requires minimal ML expertise.
A team of data scientists and engineers can build expertly tuned embeddings and operationalize them through a vector database. This can help them deliver artificial intelligence (AI) solution faster.
Operations teams benefit from managing solutions as familiar database workloads. They can use existing tools and playbooks.
What are the benefits of vector databases?
Vector databases allow developers to innovate and create unique experiences powered by vector search. They can accelerate artificial intelligence (AI) application development and simplify the operationalization of AI-powered application workloads.
Vector databases provide an alternative to building on top of bare k-nearest neighbor (k-NN) indexes. That kind of index requires a great deal of additional expertise and engineering to use, tune and operationalize.
A good vector database provides applications with a foundation through features like data management, fault tolerance, critical security features, and a query engine. These capabilities allow users to operationalize their workloads to simplify scaling, maintain high scalability, and support security requirements.
Capabilities like the query engine and SDKs simplify application development. They also allow developers to perform more advanced queries (like searching and filtering) on metadata as part of a k-NN search. They also have the option to use hybrid relevancy scoring models that blend traditional term frequency models like BM25 with vector scores to enhance information retrieval.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="edgechain-and-vector-database-">Edgechain and Vector Database-<a href="#edgechain-and-vector-database-" class="hash-link" aria-label="Direct link to Edgechain and Vector Database-" title="Direct link to Edgechain and Vector Database-">​</a></h2><p>The following API Examples will give you brief description of how edgechain uses vector databases -</p><ul><li><a href="#6-creating-historycontext-using-redis-controller"> Creating HistoryContext (Using Redis) Controller</a></li><li><a href="#7-creating-historycontext-using-postgresql-controller"> Creating HistoryContext (Using PostgreSQL) Controller</a></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/vector-database">Vector Database</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/arakoo">Arakoo</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer pt-16 font-Quicksand"><div class="container container-fluid flex flex-col"><div class="flex flex-col md:flex-row gap-4 mb-20"><div class="md:w-10/12 font-sans"><h3 class="font-normal">Arakoo</h3><p>Arakoo: Building chain &amp; prompts through declarative orchestration </p></div><div class="row footer__links font-light md:w-1/2"><div class="col footer__col"><div class="footer__title font-semibold text-xl">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item gap-3 flex items-center" href="/doc/category/getting-started">Docs</a></li><li class="footer__item"><a href="https://github.com/arakoodev" target="_blank" rel="noopener noreferrer" class="footer__link-item gap-3 flex items-center">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item gap-3 flex items-center" href="/kb">Knowledgebase</a></li></ul></div><div class="col footer__col"><div class="footer__title font-semibold text-xl">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/arakoo" target="_blank" rel="noopener noreferrer" class="footer__link-item gap-3 flex items-center">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/MtEPK9cnSF" target="_blank" rel="noopener noreferrer" class="footer__link-item gap-3 flex items-center">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/arakooai" target="_blank" rel="noopener noreferrer" class="footer__link-item gap-3 flex items-center">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><hr class="border-b border-solid border-[#8BA5B0] opacity-50 my-4 mb-8"><div class="flex flex-col-reverse md:flex-row justify-between"><p>Copyright © 2023 Arakoo Project</p></div></div></footer></div>
<script src="/assets/js/runtime~main.ca46e4bc.js"></script>
<script src="/assets/js/main.fe8f76ce.js"></script>
</body>
</html>